{"version":3,"sources":["webpack:///src/app/core/lawatan/tarikh-lawatan-pgw/tarikh-lawatan-pgw.page.ts","webpack:///src/app/core/lawatan/tarikh-lawatan-pgw/tarikh-lawatan-pgw.page.scss","webpack:///src/app/core/lawatan/tarikh-lawatan-pgw/tarikh-lawatan-pgw.page.html"],"names":["TarikhLawatanPgwPage","modalController","formBuilder","router","lawatanService","alertController","form","group","id_pengguna","Validators","id_pegawai","tarikh_lawatan","masa_lawatan","usahawan_id","window","sessionStorage","getItem","pegawai_id","user_id","getSenaraiUsahawan","dismiss","value","format","console","log","tempDate","create","cssClass","header","message","buttons","text","role","id","handler","blah","post","subscribe","res","location","reload","alert","present","getsenaraiusahawan","usahawan","ModalController","FormBuilder","Router","LawatanService","AlertController","Component","selector","template"],"mappings":"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","file":"default-src_app_core_lawatan_tarikh-lawatan-pgw_tarikh-lawatan-pgw_page_ts-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AlertController, ModalController } from '@ionic/angular';\nimport { FormBuilder } from '@angular/forms';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport * as moment from 'moment';\nimport { LawatanService } from 'src/app/services/lawatan/lawatan.service';\n\n@Component({\n  selector: 'app-tarikh-lawatan-pgw',\n  templateUrl: './tarikh-lawatan-pgw.page.html',\n  styleUrls: ['./tarikh-lawatan-pgw.page.scss'],\n})\nexport class TarikhLawatanPgwPage implements OnInit {\n\n  private form: FormGroup;\n\n  usahawan_id : any\n  pegawai_id : any\n  user_id : any\n\n  constructor(\n    public modalController: ModalController,\n    private formBuilder: FormBuilder,\n    private router: Router,\n    private lawatanService: LawatanService,\n    public alertController: AlertController\n  ) {\n    this.form = this.formBuilder.group({\n      id_pengguna: ['', Validators.required],\n      id_pegawai: ['',],\n      tarikh_lawatan: ['', Validators.required],\n      masa_lawatan: ['', Validators.required],\n\n    });\n  }\n\n  ngOnInit() {\n\n    this.usahawan_id = window.sessionStorage.getItem(\"usahawan_id\");\n    this.pegawai_id = window.sessionStorage.getItem(\"pegawai_id\");\n    this.user_id = window.sessionStorage.getItem(\"user_id\");\n\n\n    this.getSenaraiUsahawan();\n  }\n\n  dismiss() {\n    // using the injected ModalController this page\n    // can \"dismiss\" itself and optionally pass back data\n    this.modalController.dismiss({\n      'dismissed': true\n    });\n  }\n\n  async logForm() {\n\n    this.form.value.tarikh_lawatan = moment(this.form.value.tarikh_lawatan).format('YYYY-MM-DD');\n    this.form.value.masa_lawatan = moment(this.form.value.masa_lawatan).format('HH:mm');\n\n    this.form.value.id_pegawai = this.pegawai_id;\n\n    console.log(this.form.value)\n\n    let tempDate = moment(this.form.value.tarikh_lawatan).format('DD/MM/YYYY');\n\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: '',\n      message: 'Adakah anda pasti untuk mencadangkan tarikh ' + tempDate + ' untuk sesi lawatan?',\n      buttons: [\n        {\n          text: 'Tidak',\n          role: 'cancel',\n          cssClass: 'secondary',\n          id: 'cancel-button',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Ya',\n          id: 'confirm-button',\n          handler: () => {\n            console.log('Confirm Okay');\n\n            this.lawatanService.post(this.form.value).subscribe((res) => {\n              console.log(\"res\", res);\n\n              this.dismiss();\n\n              window.location.reload();\n            });\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n\n\n  }\n\n  usahawan: any;\n  getSenaraiUsahawan() {\n    this.lawatanService.getsenaraiusahawan(this.pegawai_id).subscribe((res) => {\n      console.log(\"usahawan\", res);\n      this.usahawan = res;\n\n    });\n  }\n\n\n\n}\n","export default \"ion-label {\\n  padding: 10px;\\n  margin-bottom: 50px;\\n}\\n\\n.label {\\n  padding: 10px;\\n  margin-bottom: 50px;\\n}\\n\\nion-datetime {\\n  --background: #f5f5f5;\\n  --padding-start: 0.75rem !important;\\n  --padding-top: 0.625rem !important;\\n  --placeholder-color: #8898aa;\\n  --placeholder-font-weight: 400;\\n  border: 1px solid #dee2e6 !important;\\n  border-radius: 1rem !important;\\n  box-shadow: 0 3px 2px rgba(233, 236, 239, 0.05) !important;\\n  line-height: 1.5 !important;\\n}\\n\\nion-select {\\n  --background: #f5f5f5;\\n  --padding-start: 0.75rem !important;\\n  --padding-top: 0.625rem !important;\\n  --placeholder-color: #8898aa;\\n  --placeholder-font-weight: 400;\\n  border: 1px solid #dee2e6 !important;\\n  border-radius: 1rem !important;\\n  box-shadow: 0 3px 2px rgba(233, 236, 239, 0.05) !important;\\n  line-height: 1.5 !important;\\n}\\n\\nion-label {\\n  --color: #525f7f;\\n  font-size: 0.875rem;\\n  font-weight: 600;\\n  padding-bottom: 20px;\\n}\\n\\n.jumlah {\\n  font-size: 30px;\\n  color: #00a651;\\n}\\n\\nion-item {\\n  --max-height: 16px;\\n}\\n\\n.padding {\\n  padding: 5px !important;\\n}\\n\\nion-select {\\n  width: 100%;\\n}\\n\\nion-datetime {\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhcmlraC1sYXdhdGFuLXBndy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFFQTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVBO0VBQ0kscUJBQUE7RUFDQSxtQ0FBQTtFQUNBLGtDQUFBO0VBQ0EsNEJBQUE7RUFDQSw4QkFBQTtFQUNBLG9DQUFBO0VBQ0EsOEJBQUE7RUFDQSwwREFBQTtFQUNBLDJCQUFBO0FBQ0o7O0FBRUE7RUFDSSxxQkFBQTtFQUNBLG1DQUFBO0VBQ0Esa0NBQUE7RUFDQSw0QkFBQTtFQUNBLDhCQUFBO0VBQ0Esb0NBQUE7RUFDQSw4QkFBQTtFQUNBLDBEQUFBO0VBQ0EsMkJBQUE7QUFDSjs7QUFFQTtFQUNJLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLG9CQUFBO0FBQ0o7O0FBRUE7RUFDSSxlQUFBO0VBQ0EsY0FBQTtBQUNKOztBQUVBO0VBQ0ksa0JBQUE7QUFDSjs7QUFFQTtFQUNJLHVCQUFBO0FBQ0o7O0FBRUE7RUFDSSxXQUFBO0FBQ0o7O0FBRUE7RUFDSSxXQUFBO0FBQ0oiLCJmaWxlIjoidGFyaWtoLWxhd2F0YW4tcGd3LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1sYWJlbCB7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBtYXJnaW4tYm90dG9tOiA1MHB4O1xufVxuXG4ubGFiZWwge1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogNTBweDtcbn1cblxuaW9uLWRhdGV0aW1lIHtcbiAgICAtLWJhY2tncm91bmQ6ICNmNWY1ZjU7XG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAwLjc1cmVtICFpbXBvcnRhbnQ7XG4gICAgLS1wYWRkaW5nLXRvcDogMC42MjVyZW0gIWltcG9ydGFudDtcbiAgICAtLXBsYWNlaG9sZGVyLWNvbG9yOiAjODg5OGFhO1xuICAgIC0tcGxhY2Vob2xkZXItZm9udC13ZWlnaHQ6IDQwMDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2ICFpbXBvcnRhbnQ7XG4gICAgYm9yZGVyLXJhZGl1czogMXJlbSAhaW1wb3J0YW50O1xuICAgIGJveC1zaGFkb3c6IDAgM3B4IDJweCByZ2JhKDIzMywgMjM2LCAyMzksIDAuMDUpICFpbXBvcnRhbnQ7XG4gICAgbGluZS1oZWlnaHQ6IDEuNSAhaW1wb3J0YW50O1xufVxuXG5pb24tc2VsZWN0e1xuICAgIC0tYmFja2dyb3VuZDogI2Y1ZjVmNTtcbiAgICAtLXBhZGRpbmctc3RhcnQ6IDAuNzVyZW0gIWltcG9ydGFudDtcbiAgICAtLXBhZGRpbmctdG9wOiAwLjYyNXJlbSAhaW1wb3J0YW50O1xuICAgIC0tcGxhY2Vob2xkZXItY29sb3I6ICM4ODk4YWE7XG4gICAgLS1wbGFjZWhvbGRlci1mb250LXdlaWdodDogNDAwO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZWUyZTYgIWltcG9ydGFudDtcbiAgICBib3JkZXItcmFkaXVzOiAxcmVtICFpbXBvcnRhbnQ7XG4gICAgYm94LXNoYWRvdzogMCAzcHggMnB4IHJnYmEoMjMzLCAyMzYsIDIzOSwgMC4wNSkgIWltcG9ydGFudDtcbiAgICBsaW5lLWhlaWdodDogMS41ICFpbXBvcnRhbnQ7XG59XG5cbmlvbi1sYWJlbCB7XG4gICAgLS1jb2xvcjogIzUyNWY3ZjtcbiAgICBmb250LXNpemU6IDAuODc1cmVtO1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgcGFkZGluZy1ib3R0b206IDIwcHg7XG59XG5cbi5qdW1sYWgge1xuICAgIGZvbnQtc2l6ZTogMzBweDtcbiAgICBjb2xvcjogIzAwYTY1MTtcbn1cblxuaW9uLWl0ZW0ge1xuICAgIC0tbWF4LWhlaWdodDogMTZweDtcbn1cblxuLnBhZGRpbmd7XG4gICAgcGFkZGluZzogNXB4ICFpbXBvcnRhbnQ7XG59XG5cbmlvbi1zZWxlY3R7XG4gICAgd2lkdGg6IDEwMCU7XG59XG5cbmlvbi1kYXRldGltZXtcbiAgICB3aWR0aDogMTAwJTtcbn1cblxuLy8gYnV0dG9uOmRpc2FibGVkLFxuLy8gYnV0dG9uW2Rpc2FibGVkXSB7XG4vLyAgICAgYm9yZGVyOiAxcHggc29saWQgIzk5OTk5OTtcbi8vICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjY2NjO1xuLy8gICAgIGNvbG9yOiAjNjY2NjY2O1xuLy8gfVxuIl19 */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"dismiss()\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\" style=\\\"color: #986522;\\\"></ion-icon>\\n      </ion-button>\\n      <ion-text color=\\\"warning\\\">\\n        <h1>\\n          <strong class=\\\"ion-text-uppercase\\\">\\n            TARIKH LAWATAN\\n          </strong>\\n        </h1>\\n      </ion-text>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n \\n  \\n\\n  <ion-grid>\\n    <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"logForm()\\\" enctype=\\\"multipart/form-data\\\">\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\"  mode=\\\"ios\\\">NAMA USAHAWAN</ion-label>\\n            <!-- <ion-input formControlName=\\\"id_pengguna\\\"></ion-input> -->\\n            <ion-select formControlName=\\\"id_pengguna\\\">\\n              <ion-select-option *ngFor=\\\"let usahawan of usahawan\\\" value=\\\"{{usahawan.id_pengguna}}\\\">\\n                {{usahawan.name}}</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row style=\\\"margin-bottom: 15%;\\\"> \\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" class=\\\"form-control\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\"  mode=\\\"ios\\\">TARIKH </ion-label>\\n            <!-- <ion-input type=\\\"date\\\" formControlName=\\\"title\\\"></ion-input> -->\\n            <ion-datetime presentation=\\\"date\\\" displayFormat=\\\"YYYY-MM-DD\\\" formControlName=\\\"tarikh_lawatan\\\" style=\\\"background-color: #f5f5f5; width:100%\\\">\\n            </ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" class=\\\"form-control\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\"  mode=\\\"ios\\\">MASA </ion-label>\\n            <!-- <ion-input type=\\\"date\\\" formControlName=\\\"title\\\"></ion-input> -->\\n            <ion-datetime displayFormat=\\\"HH:mm\\\" presentation=\\\"time\\\" formControlName=\\\"masa_lawatan\\\" style=\\\"background-color: #f5f5f5;\\\">\\n            </ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin-bottom: 20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n          <!-- (click)=\\\"openmodal()\\\" -->\\n          <ion-button color=\\\"success\\\" expand=\\\"block\\\" type=\\\"submit\\\" [disabled]=\\\"form.invalid\\\" >TETAP TARIKH LAWATAN</ion-button>\\n        </ion-col>\\n      </ion-row>\\n\\n    </form>\\n  </ion-grid>\\n\\n\\n\\n\\n</ion-content>\";"]}