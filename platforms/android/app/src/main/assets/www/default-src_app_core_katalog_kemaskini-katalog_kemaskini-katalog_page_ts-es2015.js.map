{"version":3,"sources":["./src/app/core/katalog/kemaskini-katalog/kemaskini-katalog.page.ts","./src/app/services/katalog/katalog.service.ts","./src/app/services/stok/stok.service.ts","./src/app/core/katalog/kemaskini-katalog/kemaskini-katalog.page.scss","./src/app/core/katalog/kemaskini-katalog/kemaskini-katalog.page.html"],"names":[],"mappings":"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","file":"default-src_app_core_katalog_kemaskini-katalog_kemaskini-katalog_page_ts-es2015.js","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { AlertController, LoadingController, ModalController } from '@ionic/angular';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport { Validators } from '@angular/forms';\nimport { KatalogService } from 'src/app/services/katalog/katalog.service';\nimport * as moment from 'moment';\nimport { StokService } from 'src/app/services/stok/stok.service';\nimport { map } from 'rxjs/operators';\n\n\ninterface LocalFile {\n  name: string;\n  path: string;\n  data: string;\n}\n\n@Component({\n  selector: 'app-kemaskini-katalog',\n  templateUrl: './kemaskini-katalog.page.html',\n  styleUrls: ['./kemaskini-katalog.page.scss'],\n})\nexport class KemaskiniKatalogPage implements OnInit {\n\n  @Input() katalog: any;\n\n  private form: FormGroup;\n\n\n\n  constructor(\n    public modalController: ModalController,\n    private formBuilder: FormBuilder,\n    private katalogService: KatalogService,\n    public loadingController: LoadingController,\n    public alertController: AlertController,\n    private stokService: StokService,\n  ) {\n    this.form = this.formBuilder.group({\n      id_pengguna: ['',],\n      nama_produk: ['', Validators.required],\n      kandungan_produk: ['', Validators.required],\n      harga_produk: ['', Validators.required],\n      berat_produk: ['', Validators.required],\n      keterangan_produk: ['', Validators.required],\n\n      gambar_url: ['', Validators.required],\n      baki_stok: ['',],\n      unit_production: ['', Validators.required],\n      status_katalog: ['', Validators.required],\n      // disahkan_oleh: ['', Validators.required],\n      modified_by: ['',],\n    });\n  }\n\n  usahawan_id : any\n  user_id : any\n\n\n  ngOnInit() {\n\n    this.usahawan_id = window.sessionStorage.getItem(\"usahawan_id\");\n    this.user_id = window.sessionStorage.getItem(\"user_id\");\n\n    this.images = [];\n\n    console.log(\"katalog\", this.katalog)\n    this.setFormValues();\n  }\n\n  dismiss() {\n    this.modalController.dismiss({\n      'dismissed': true\n    });\n  }\n\n  updateBakiStok() {\n\n    this.stokService.getStokKatalog().pipe(map(x => x.filter(i => i.id_katalog == this.katalog.id))).subscribe((res) => {\n      console.log(\"stok\", res);\n\n      let totalStok = 0;\n      res.forEach(element => {\n        totalStok += Number(element.stok_dijual);\n      });\n\n      console.log(\"total\", totalStok);\n      let bakiStok = this.form.value.unit_production - totalStok;\n\n      console.log(\"baki\", bakiStok);\n\n      this.form.patchValue({\n\n        baki_stok: bakiStok\n        // unit_production: this.form.value.unit_production,\n\n      });\n\n    });\n\n\n\n  }\n\n  setFormValues() {\n\n    this.form.patchValue({\n      id_pengguna: this.katalog.id_pengguna,\n      nama_produk: this.katalog.nama_produk,\n      kandungan_produk: this.katalog.kandungan_produk,\n      harga_produk: this.katalog.harga_produk,\n      berat_produk: this.katalog.berat_produk,\n      keterangan_produk: this.katalog.keterangan_produk,\n\n      baki_stok: this.katalog.unit_production,\n      unit_production: this.katalog.unit_production,\n\n      // status_katalog: this.katalog.status_katalog,\n      gambar_url: this.katalog.gambar_url,\n      modified_by: this.katalog.modified_by,\n    });\n\n    if (this.katalog.status_katalog == \"publish\") {\n      this.form.patchValue({\n        status_katalog: \"pending\"\n\n      });\n    } else {\n      this.form.patchValue({\n        status_katalog: this.katalog.status_katalog\n\n      });\n    }\n\n    this.form.updateValueAndValidity();\n  }\n\n  async logForm() {\n\n\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: '',\n      message: 'Adakah anda setuju untuk menyimpan perubahan ini?',\n      buttons: [\n        {\n          text: 'Tidak',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Ya',\n          handler: async () => {\n            console.log('Confirm Okay');\n\n            this.form.value.tarikh_aliran = moment(this.form.value.tarikh_aliran).format('YYYY-MM-DD');\n\n            // this.form.value.status_katalog \n            let temp = this.form.value.nama_produk.toUpperCase()\n            let temp2 = this.form.value.kandungan_produk.toUpperCase()\n\n            this.form.value.nama_produk = temp\n            this.form.value.kandungan_produk = temp2\n\n            const loading = await this.loadingController.create({ message: 'Loading ...' });\n            loading.present();\n            console.log(this.form.value)\n\n            this.katalogService.update(this.form.value, Number(this.katalog.id)).subscribe((res) => {\n              console.log(\"updated data\", res);\n              loading.dismiss();\n              this.presentAlert()\n            });\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n\n  }\n\n  async onDelete() {\n\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: '',\n      message: 'Adakah anda setuju untuk memadam maklumat ini?',\n      buttons: [\n        {\n          text: 'Tidak',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Ya',\n          handler: async () => {\n            console.log('Confirm Okay');\n\n            const loading = await this.loadingController.create({ message: 'Deleting ...' });\n            loading.present();\n\n            this.katalogService.delete(this.katalog.id).subscribe((res) => {\n              console.log(\"deleted\", res);\n              loading.dismiss();\n              this.presentAlert2()\n            });\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n\n\n  }\n\n  async presentAlert() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Kemaskini Berjaya',\n      subHeader: 'Kemaskini Katalog Telah Berjaya',\n      message: '',\n      buttons: ['OK']\n    });\n\n    await alert.present();\n\n    const { role } = await alert.onDidDismiss();\n    console.log('onDidDismiss resolved with role', role);\n\n    this.dismiss();\n    this.refresh();\n  }\n\n  async presentAlert2() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Berjaya Dihapus',\n      subHeader: 'Katalog Telah Berjaya Dihapus',\n      message: '',\n      buttons: ['OK']\n    });\n\n    await alert.present();\n\n    const { role } = await alert.onDidDismiss();\n    console.log('onDidDismiss resolved with role', role);\n\n    this.dismiss();\n    this.refresh();\n  }\n\n  refresh(): void {\n    window.location.reload();\n  }\n\n  url: any = 'assets/icon/image-not-available.png';\n  onSelectFile(event) {\n    if (event.target.files && event.target.files[0]) {\n      var reader = new FileReader();\n\n      reader.readAsDataURL(event.target.files[0]); // read file as data url\n\n      reader.onload = (event) => { // called once readAsDataURL is completed\n        this.katalog.gambar_url = event.target.result;\n      }\n\n      this.fileEvent(event);\n    }\n  }\n\n  // Convert the base64 to blob data\n  // and create  formData with it\n\n  images: LocalFile[];\n  async fileEvent(e) {\n\n    this.images = []\n\n    const files = e.target.files;\n    const file = files[0];\n    const filePath = files[0].size;\n    const base64Data = await this.readAsBase64(file);\n\n    const fileName = new Date().getTime() + '.jpeg';\n\n    this.images.push({\n      name: fileName,\n      path: filePath,\n      data: `${base64Data}`,\n    });\n\n    console.log(\"AAAA\", this.images);\n    this.form.patchValue({\n      gambar_url: this.images[0].data\n    })\n\n  }\n\n  // https://ionicframework.com/docs/angular/your-first-app/3-saving-photos\n  private async readAsBase64(blob) {\n    // Fetch the photo, read as a blob, then convert to base64 format\n    // const response = await fetch(photo.webPath);\n    // const blob = await response.blob();\n\n    return (await this.convertBlobToBase64(blob)) as string;\n  }\n\n  convertBlobToBase64 = (blob: Blob) =>\n    new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onerror = reject;\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.readAsDataURL(blob);\n    });\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class KatalogService {\n\n  url: string = environment.baseUrl + \"api/katalog\";\n\n  constructor(private http: HttpClient) { }\n\n  post(data: any): Observable<any> {\n    return this.http.post<any>(`${this.url}`, data);\n  }\n\n  getAll(): Observable<any> {\n    return this.http.get<any>(`${this.url}`);\n  }\n\n  get(user_id): Observable<any> {\n    return this.http.get<any>(`${this.url}` + \"/\" + user_id);\n  }\n\n  update(aliran: any, aliran_id: number,): Observable<any> {\n    return this.http.put<any>(\n      `${this.url}/${aliran_id}`, aliran\n    );\n  }\n\n  delete(aliran_id: number): Observable<any> {\n    return this.http.delete<any>(\n      `${this.url}/${aliran_id}`\n    );\n  }\n\n  url2 : string = environment.baseUrl + \"api/katalogPegawai\";\n  getKatalogPegawai(id): Observable<any> {\n    return this.http.get<any>(`${this.url2}` + \"/\" + id);\n  }\n\n  url3 : string = environment.baseUrl + \"api/pengesahanPegawai\";\n  pengesahanPegawai(id): Observable<any> {\n    return this.http.get<any>(`${this.url3}` + \"/\" + id);\n  }\n\n\n  katalogPdf(id): Observable<any> {\n    return this.http.get<any>(`${this.url}`+'/katalogPdf/'+id);\n  }\n\n\n  getMaklumatUsahawan(id): Observable<any> {\n    return this.http.get<any>(`${this.url}`+'/showMaklumatUsahawan/'+id);\n  }\n\n  url4 : string = environment.baseUrl + \"api/katalogdashboard\";\n  katalogdashboard(): Observable<any> {\n    return this.http.get<any>(`${this.url4}`);\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StokService {\n\n  url: string = environment.baseUrl + \"api/stok\";\n\n  constructor(private http: HttpClient) { }\n\n  post(data: any): Observable<any> {\n    return this.http.post<any>(`${this.url}`, data);\n  }\n\n  getStokKatalog(): Observable<any> {\n    return this.http.get<any>(`${this.url}`);\n  }\n\n  get(id): Observable<any> {\n    return this.http.get<any>(`${this.url}` + '/' + id);\n  }\n\n  update(data: any, id): Observable<any> {\n    return this.http.put<any>(\n      `${this.url}/${id}`, data\n    );\n  }\n\n  delete(id): Observable<any> {\n    return this.http.delete<any>(\n      `${this.url}/${id}`\n    );\n  }\n\n  url2 : string = environment.baseUrl + \"api/deleteStok\";\n  deleteMany(id_pelanggan): Observable<any> {\n    return this.http.get<any>(\n      `${this.url2}/${id_pelanggan}`\n    );\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJrZW1hc2tpbmkta2F0YWxvZy5wYWdlLnNjc3MifQ== */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"dismiss()\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\" style=\\\"color: #986522;\\\"></ion-icon>\\n      </ion-button>\\n      <ion-text color=\\\"warning\\\">\\n        <h1>\\n          <strong class=\\\"ion-text-uppercase\\\">\\n            KEMASKINI KATALOG\\n          </strong>\\n        </h1>\\n      </ion-text>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-grid>\\n    <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"logForm()\\\" style=\\\"margin: 20px;\\\">\\n      <ion-row style=\\\"margin-bottom: 20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-label>NAMA PRODUK <span style=\\\"color: red;\\\">*</span></ion-label>\\n          <ion-input type=\\\"text\\\" formControlName=\\\"nama_produk\\\"></ion-input>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row style=\\\"margin-bottom: 20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-label>KANDUNGAN PRODUK <span style=\\\"color: red;\\\">*</span></ion-label>\\n          <!-- <ion-input type=\\\"date\\\" formControlName=\\\"title\\\"></ion-input> -->\\n          <ion-input type=\\\"text\\\" formControlName=\\\"kandungan_produk\\\"></ion-input>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row style=\\\"margin-bottom: 20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-label>JUMLAH (kg/unit/orang/liter/ton/pcs) <span style=\\\"color: red;\\\">*</span></ion-label>\\n          <ion-input placeholder=\\\"0.0\\\" type=\\\"number\\\" formControlName=\\\"berat_produk\\\">\\n          </ion-input>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin-bottom: 20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-label style=\\\"padding-right: 0px;\\\">HARGA JUALAN (RM) <span style=\\\"color: red;\\\">*</span></ion-label>\\n          <ion-input type=\\\"number\\\" formControlName=\\\"harga_produk\\\"></ion-input>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin-bottom: 20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-label>UNIT PRODUCTION <span style=\\\"color: red;\\\">*</span></ion-label>\\n          <ion-input type=\\\"number\\\" formControlName=\\\"unit_production\\\" (change)=\\\"updateBakiStok()\\\"></ion-input>\\n        </ion-col>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-label>BAKI STOK <span style=\\\"color: red;\\\">*</span></ion-label>\\n          <ion-input type=\\\"text\\\" formControlName=\\\"baki_stok\\\" value=\\\"bakiStok\\\" readonly></ion-input>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin-bottom: 20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-label>KETERANGAN LAIN <span style=\\\"color: red;\\\">*</span></ion-label>\\n          <!-- <ion-input type=\\\"text\\\" formControlName=\\\"title\\\"></ion-input> -->\\n          <ion-textarea rows=\\\"5\\\" formControlName=\\\"keterangan_produk\\\"></ion-textarea>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin-bottom: 20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n          <!-- <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\"> -->\\n          <ion-label position=\\\"stacked\\\">STATUS <span style=\\\"color: red;\\\">*</span></ion-label>\\n          <ion-select formControlName=\\\"status_katalog\\\">\\n            <ion-select-option value=\\\"pending\\\">Publish</ion-select-option>\\n            <ion-select-option value=\\\"draft\\\">Draft</ion-select-option>\\n          </ion-select>\\n          <!-- </ion-item> -->\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"ion-text-center\\\">\\n          <ion-label class=\\\"ion-text-center\\\" style=\\\"padding-bottom: 0px;\\\">GAMBAR <span style=\\\"color: red;\\\">*</span></ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin-bottom: 20px;\\\">\\n        <ion-col class=\\\"form-control\\\" style=\\\"display: flex; justify-content:center\\\">\\n          <label>\\n            <div >\\n              \\n              <br>\\n              <img [src]=\\\"katalog.gambar_url\\\" class=\\\"border-radius-md\\\" width=\\\"80\\\" height=\\\"80\\\"\\n                id=\\\"upload-Preview\\\" />\\n            </div>\\n            <ion-input accept=\\\"image/*\\\" (change)=\\\"onSelectFile($event)\\\"  type=\\\"file\\\" name=\\\"gambar_profil\\\" style=\\\"display: none\\\"></ion-input>\\n          </label>\\n\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin-bottom: 20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-button type=\\\"submit\\\" color=\\\"dark\\\" expand=\\\"block\\\">KEMASKINI</ion-button>\\n          <ion-button color=\\\"warning\\\" expand=\\\"block\\\" (click)=\\\"onDelete()\\\">HAPUS</ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </form>\\n  </ion-grid>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}