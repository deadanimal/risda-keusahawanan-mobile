{"version":3,"sources":["webpack:///src/app/core/lawatan/carian-usahawan/carian-usahawan.page.ts","webpack:///src/app/core/lawatan/tambah-laporan/tambah-laporan.page.ts","webpack:///src/app/services/negeri/negeri.service.ts","webpack:///src/app/services/pusat-tanggungjawab/pusat-tanggungjawab.service.ts","webpack:///src/app/core/lawatan/carian-usahawan/carian-usahawan.page.scss","webpack:///src/app/core/lawatan/tambah-laporan/tambah-laporan.page.scss","webpack:///src/app/core/lawatan/carian-usahawan/carian-usahawan.page.html","webpack:///src/app/core/lawatan/tambah-laporan/tambah-laporan.page.html"],"names":["CarianUsahawanPage","modalController","peranan","window","sessionStorage","getItem","console","log","usahawans","dismiss","pilihUsahawan","ModalController","Input","Component","selector","template","TambahLaporanPage","formBuilder","lawatanService","negeriService","ptService","usahawanService","loadingController","url","negeriValue","ptValue","images","convertBlobToBase64","blob","Promise","resolve","reject","reader","FileReader","onerror","onload","result","readAsDataURL","tempID","form","group","id_pegawai","id_pengguna","Validators","tarikh_lawatan","masa_lawatan","id_tindakan_lawatan","komen","jenis_lawatan","gambar_lawatan","pegawai_id","peranan_pegawai","laporan","getNegeri","getPT","getTindakanLawatan","patchValue","getNegeriPt","pipe","map","x","filter","i","status_tindakan_lawatan","subscribe","res","tindakanLawatan","get","negeri","Negeri_Rkod","pt","create","message","loading","present","Kod_PT","usahawan","length","value","data","format","tambahLaporan","location","reload","event","target","files","fileEvent","e","file","filePath","size","readAsBase64","base64Data","fileName","Date","getTime","push","name","path","component","cssClass","componentProps","modal","onDidDismiss","FormBuilder","LawatanService","NegeriService","PusatTanggungjawabService","UsahawanService","LoadingController","http","environment","HttpClient","Injectable","providedIn","id"],"mappings":"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","file":"default-src_app_core_lawatan_tambah-laporan_tambah-laporan_page_ts-es5.js","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-carian-usahawan',\n  templateUrl: './carian-usahawan.page.html',\n  styleUrls: ['./carian-usahawan.page.scss'],\n})\nexport class CarianUsahawanPage implements OnInit {\n\n  @Input() usahawans: any;\n  \n  searchTerm: string;\n  \n\n  constructor(\n    public modalController: ModalController,\n  ) { }\n\n  \n  peranan: any;\n  ngOnInit() {\n    this.peranan = window.sessionStorage.getItem(\"peranan_pegawai\");\n    console.log(\"senarai\",this.usahawans)\n  }\n\n\n  dismiss() {\n    this.modalController.dismiss({\n      'dismissed': true\n    });\n  }\n\n  selectDismiss() {\n   \n    console.log(\"usahawan\",this.pilihUsahawan)\n    // this.modalController.dismiss({\n    //   'dismissed': true\n    // });\n\n    this.modalController.dismiss(this.pilihUsahawan);\n  }\n\n  pilihUsahawan: any;\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { LoadingController, ModalController } from '@ionic/angular';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport { Validators } from '@angular/forms';\nimport { LawatanService } from 'src/app/services/lawatan/lawatan.service';\nimport { map } from 'rxjs/operators';\nimport { NegeriService } from 'src/app/services/negeri/negeri.service';\nimport { PusatTanggungjawabService } from 'src/app/services/pusat-tanggungjawab/pusat-tanggungjawab.service';\nimport { UsahawanService } from 'src/app/services/usahawan/usahawan.service';\nimport * as moment from 'moment';\nimport { CarianUsahawanPage } from '../carian-usahawan/carian-usahawan.page';\n\n\ninterface LocalFile {\n  name: string;\n  path: string;\n  data: string;\n}\n\n@Component({\n  selector: 'app-tambah-laporan',\n  templateUrl: './tambah-laporan.page.html',\n  styleUrls: ['./tambah-laporan.page.scss'],\n})\nexport class TambahLaporanPage implements OnInit {\n\n  @Input() laporan: any;\n\n\n\n  url: any = \"assets/icon/image-not-available.png\";\n\n  private form: FormGroup;\n  negeri: any;\n\n  negeriValue: any = null;\n  ptValue: any = null;\n\n  pt: any;\n  usahawan: any[];\n\n\n  constructor(\n    public modalController: ModalController,\n    private formBuilder: FormBuilder,\n    private lawatanService: LawatanService,\n    private negeriService: NegeriService,\n    private ptService: PusatTanggungjawabService,\n    private usahawanService: UsahawanService,\n    private loadingController: LoadingController,\n  ) {\n    this.form = this.formBuilder.group({\n      // negeri: ['', Validators.required],\n      // pt: ['', Validators.required],\n      id_pegawai: ['',],\n      id_pengguna: ['', Validators.required],\n      tarikh_lawatan: ['', Validators.required],\n      masa_lawatan: ['', Validators.required],\n      id_tindakan_lawatan: ['', Validators.required],\n      komen: ['',],\n      jenis_lawatan: ['', Validators.required],\n      gambar_lawatan: ['',],\n    });\n  }\n\n  pegawai_id: any\n  peranan_pegawai: any\n\n  ngOnInit() {\n    this.pegawai_id = window.sessionStorage.getItem(\"pegawai_id\");\n    this.peranan_pegawai = window.sessionStorage.getItem(\"peranan_pegawai\");\n\n    console.log(\"peranan\", this.peranan_pegawai);\n    console.log(\"laporan\", this.laporan);\n\n\n    if (this.peranan_pegawai == \"1\" || this.peranan_pegawai == \"2\") {\n      this.getNegeri();\n      this.getPT()\n      this.getTindakanLawatan();\n\n      this.form.patchValue({\n        jenis_lawatan: \"datang terus\"\n      })\n    } else {\n\n      this.getNegeriPt()\n      this.getTindakanLawatan();\n\n      this.form.patchValue({\n        jenis_lawatan: \"janji temu\"\n      })\n    }\n  }\n\n\n  dismiss() {\n    // using the injected ModalController this page\n    // can \"dismiss\" itself and optionally pass back data\n    this.modalController.dismiss({\n      'dismissed': true\n    });\n  }\n\n\n\n  tindakanLawatan: any;\n  getTindakanLawatan() {\n    this.lawatanService.getTindakanLawatan().pipe(map(x => x.filter(i => i.status_tindakan_lawatan == \"aktif\"))).subscribe((res) => {\n      console.log(\"tindakan lawatan\", res);\n\n      this.tindakanLawatan = res;\n\n    });\n  }\n\n  getNegeri() {\n    this.negeriService.get().subscribe((res) => {\n      console.log(\"negeri\", res);\n\n      this.negeri = res;\n\n    });\n  }\n\n  getPT() {\n    this.ptService.get().pipe(map(x => x.filter(i => i.Negeri_Rkod == this.negeriValue))).subscribe((res) => {\n      console.log(\"pt\", res);\n\n      this.pt = res;\n\n    });\n  }\n\n  getNegeriPt() {\n    this.ptService.getNegeriPt(this.pegawai_id).subscribe((res) => {\n      console.log(\"pt\", res);\n\n      this.pt = res;\n\n    });\n  }\n\n  async getUsahawan() {\n    console.log(\"ptValue\", this.ptValue);\n    const loading = await this.loadingController.create({ message: 'Loading ...' });\n    loading.present();\n\n    this.usahawanService.get().pipe(map(x => x.filter(i => i.Kod_PT == this.ptValue))).subscribe((res) => {\n      console.log(\"usahawan\", res);\n\n      this.usahawan = res;\n      loading.dismiss();\n    });\n\n  }\n\n  async logForm() {\n\n    if (this.images.length > 0) {\n      this.form.value.gambar_lawatan = this.images[0].data;\n    } else {\n      this.form.value.gambar_lawatan = this.laporan.gambar_lawatan;\n    }\n\n    this.form.value.id_pegawai = this.pegawai_id;\n    this.form.value.tarikh_lawatan = moment(this.form.value.tarikh_lawatan).format('YYYY-MM-DD');\n    this.form.value.masa_lawatan = moment(this.form.value.masa_lawatan).format('HH:mm');\n\n    console.log(this.form.value)\n\n    const loading = await this.loadingController.create({ message: 'Loading ...' });\n    loading.present();\n    \n    this.lawatanService.tambahLaporan(this.form.value).subscribe((res) => {\n      console.log(\"laporan baru\", res);\n\n      loading.dismiss();\n      this.dismiss();\n      window.location.reload();\n    });\n  }\n\n\n  //image\n  onSelectFile(event) {\n    if (event.target.files && event.target.files[0]) {\n      var reader = new FileReader();\n\n      reader.readAsDataURL(event.target.files[0]); // read file as data url\n\n      reader.onload = (event) => { // called once readAsDataURL is completed\n        this.url = event.target.result;\n      }\n\n      this.fileEvent(event);\n    }\n  }\n\n  // Convert the base64 to blob data\n  // and create  formData with it\n\n  images: LocalFile[] = [];\n  async fileEvent(e) {\n\n    this.images = []\n\n    const files = e.target.files;\n    const file = files[0];\n    const filePath = files[0].size;\n    const base64Data = await this.readAsBase64(file);\n\n    const fileName = new Date().getTime() + '.jpeg';\n\n    this.images.push({\n      name: fileName,\n      path: filePath,\n      data: `${base64Data}`,\n    });\n\n    console.log(\"AAAA\", this.images);\n  }\n\n  // https://ionicframework.com/docs/angular/your-first-app/3-saving-photos\n  private async readAsBase64(blob) {\n    // Fetch the photo, read as a blob, then convert to base64 format\n    // const response = await fetch(photo.webPath);\n    // const blob = await response.blob();\n\n    return (await this.convertBlobToBase64(blob)) as string;\n  }\n\n  convertBlobToBase64 = (blob: Blob) =>\n    new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onerror = reject;\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.readAsDataURL(blob);\n    });\n\n\n\n  tempID: any = null\n\n  async openSenaraiUsahawan() {\n\n    console.log(\"AAAAAA\", this.usahawan)\n\n    let usahawans = this.usahawan;\n    const modal = await this.modalController.create({\n      component: CarianUsahawanPage,\n      cssClass: 'my-custom-class',\n      componentProps: { usahawans }\n    });\n    await modal.present();\n\n    const { data: usahawan } = await modal.onDidDismiss();\n    if (usahawan >0) {\n      console.log(\"yeayyy\", usahawan)\n\n      this.tempID = usahawan\n\n      console.log(\"AAAAAA\", this.tempID)\n\n      this.form.patchValue({\n        id_pengguna: usahawan\n      })\n    } else {\n\n      console.log(\"AAAAAA\", this.tempID)\n      this.tempID == null\n    }\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NegeriService {\n\n  url: string = environment.baseUrl + \"api/negeri\";\n\n  constructor(private http: HttpClient) { }\n\n  // post(data: any): Observable<any> {\n  //   return this.http.post<any>(`${this.url}`, data);\n  // }\n\n  get(): Observable<any> {\n    return this.http.get<any>(`${this.url}`);\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PusatTanggungjawabService {\n\n  url: string = environment.baseUrl + \"api/pusat_tanggungjawab\";\n\n  constructor(private http: HttpClient) { }\n\n  // post(data: any): Observable<any> {\n  //   return this.http.post<any>(`${this.url}`, data);\n  // }\n\n  get(): Observable<any> {\n    return this.http.get<any>(`${this.url}`);\n  }\n\n  getNegeriPt(id): Observable<any> {\n    return this.http.get<any>(`${this.url}` + '/senarai_pt_pun_pud/' + id);\n  }\n}\n","export default \".list {\\n  height: 80%;\\n  overflow: scroll;\\n  margin-bottom: 2%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcmlhbi11c2FoYXdhbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0VBRUEsZ0JBQUE7RUFDQSxpQkFBQTtBQUFKIiwiZmlsZSI6ImNhcmlhbi11c2FoYXdhbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGlzdHtcbiAgICBoZWlnaHQ6IDgwJTtcbiAgICAvLyBiYWNrZ3JvdW5kLWNvbG9yOiBhcXVhO1xuICAgIG92ZXJmbG93OiBzY3JvbGw7XG4gICAgbWFyZ2luLWJvdHRvbTogMiU7XG59Il19 */\";","export default \"ion-label {\\n  padding: 10px;\\n  margin-bottom: 50px;\\n}\\n\\n.label {\\n  padding: 10px;\\n  margin-bottom: 50px;\\n}\\n\\nion-datetime {\\n  --background: #f5f5f5;\\n  --padding-start: 0.75rem !important;\\n  --padding-top: 0.625rem !important;\\n  --placeholder-color: #8898aa;\\n  --placeholder-font-weight: 400;\\n  border: 1px solid #dee2e6 !important;\\n  border-radius: 1rem !important;\\n  box-shadow: 0 3px 2px rgba(233, 236, 239, 0.05) !important;\\n  line-height: 1.5 !important;\\n}\\n\\nion-select {\\n  --background: #f5f5f5;\\n  --padding-start: 0.75rem !important;\\n  --padding-top: 0.625rem !important;\\n  --placeholder-color: #8898aa;\\n  --placeholder-font-weight: 400;\\n  border: 1px solid #dee2e6 !important;\\n  border-radius: 1rem !important;\\n  box-shadow: 0 3px 2px rgba(233, 236, 239, 0.05) !important;\\n  line-height: 1.5 !important;\\n}\\n\\nion-label {\\n  --color: #525f7f;\\n  font-size: 0.875rem;\\n  font-weight: 600;\\n  padding-bottom: 20px;\\n}\\n\\n.jumlah {\\n  font-size: 30px;\\n  color: #00a651;\\n}\\n\\nion-item {\\n  --max-height: 16px;\\n}\\n\\n.padding {\\n  padding: 5px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhbWJhaC1sYXBvcmFuLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0FBQ0o7O0FBRUE7RUFDSSxxQkFBQTtFQUNBLG1DQUFBO0VBQ0Esa0NBQUE7RUFDQSw0QkFBQTtFQUNBLDhCQUFBO0VBQ0Esb0NBQUE7RUFDQSw4QkFBQTtFQUNBLDBEQUFBO0VBQ0EsMkJBQUE7QUFDSjs7QUFFQTtFQUNJLHFCQUFBO0VBQ0EsbUNBQUE7RUFDQSxrQ0FBQTtFQUNBLDRCQUFBO0VBQ0EsOEJBQUE7RUFDQSxvQ0FBQTtFQUNBLDhCQUFBO0VBQ0EsMERBQUE7RUFDQSwyQkFBQTtBQUNKOztBQUVBO0VBQ0ksZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0Esb0JBQUE7QUFDSjs7QUFFQTtFQUNJLGVBQUE7RUFDQSxjQUFBO0FBQ0o7O0FBRUE7RUFDSSxrQkFBQTtBQUNKOztBQUVBO0VBQ0ksdUJBQUE7QUFDSiIsImZpbGUiOiJ0YW1iYWgtbGFwb3Jhbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tbGFiZWwge1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogNTBweDtcbn1cblxuLmxhYmVsIHtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDUwcHg7XG59XG5cbmlvbi1kYXRldGltZSB7XG4gICAgLS1iYWNrZ3JvdW5kOiAjZjVmNWY1O1xuICAgIC0tcGFkZGluZy1zdGFydDogMC43NXJlbSAhaW1wb3J0YW50O1xuICAgIC0tcGFkZGluZy10b3A6IDAuNjI1cmVtICFpbXBvcnRhbnQ7XG4gICAgLS1wbGFjZWhvbGRlci1jb2xvcjogIzg4OThhYTtcbiAgICAtLXBsYWNlaG9sZGVyLWZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2RlZTJlNiAhaW1wb3J0YW50O1xuICAgIGJvcmRlci1yYWRpdXM6IDFyZW0gIWltcG9ydGFudDtcbiAgICBib3gtc2hhZG93OiAwIDNweCAycHggcmdiYSgyMzMsIDIzNiwgMjM5LCAwLjA1KSAhaW1wb3J0YW50O1xuICAgIGxpbmUtaGVpZ2h0OiAxLjUgIWltcG9ydGFudDtcbn1cblxuaW9uLXNlbGVjdHtcbiAgICAtLWJhY2tncm91bmQ6ICNmNWY1ZjU7XG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAwLjc1cmVtICFpbXBvcnRhbnQ7XG4gICAgLS1wYWRkaW5nLXRvcDogMC42MjVyZW0gIWltcG9ydGFudDtcbiAgICAtLXBsYWNlaG9sZGVyLWNvbG9yOiAjODg5OGFhO1xuICAgIC0tcGxhY2Vob2xkZXItZm9udC13ZWlnaHQ6IDQwMDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2ICFpbXBvcnRhbnQ7XG4gICAgYm9yZGVyLXJhZGl1czogMXJlbSAhaW1wb3J0YW50O1xuICAgIGJveC1zaGFkb3c6IDAgM3B4IDJweCByZ2JhKDIzMywgMjM2LCAyMzksIDAuMDUpICFpbXBvcnRhbnQ7XG4gICAgbGluZS1oZWlnaHQ6IDEuNSAhaW1wb3J0YW50O1xufVxuXG5pb24tbGFiZWwge1xuICAgIC0tY29sb3I6ICM1MjVmN2Y7XG4gICAgZm9udC1zaXplOiAwLjg3NXJlbTtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICAgIHBhZGRpbmctYm90dG9tOiAyMHB4O1xufVxuXG4uanVtbGFoIHtcbiAgICBmb250LXNpemU6IDMwcHg7XG4gICAgY29sb3I6ICMwMGE2NTE7XG59XG5cbmlvbi1pdGVtIHtcbiAgICAtLW1heC1oZWlnaHQ6IDE2cHg7XG59XG5cbi5wYWRkaW5ne1xuICAgIHBhZGRpbmc6IDVweCAhaW1wb3J0YW50O1xufVxuXG5cblxuLy8gYnV0dG9uOmRpc2FibGVkLFxuLy8gYnV0dG9uW2Rpc2FibGVkXSB7XG4vLyAgICAgYm9yZGVyOiAxcHggc29saWQgIzk5OTk5OTtcbi8vICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjY2NjO1xuLy8gICAgIGNvbG9yOiAjNjY2NjY2O1xuLy8gfVxuIl19 */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Senarai Usahawan</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content *ngIf=\\\"peranan != 7\\\" class=\\\"ion-padding\\\">\\n\\n  <ion-searchbar placeholder=\\\"Carian Usahawan\\\" [(ngModel)]=\\\"searchTerm\\\" showCancelButton=\\\"focus\\\"></ion-searchbar>\\n\\n\\n  <!-- {{ usahawans }} -->\\n  <div class=\\\"list\\\">\\n    <ion-list>\\n\\n      <ion-radio-group [(ngModel)]=\\\"pilihUsahawan\\\">\\n\\n        <ion-item *ngFor=\\\"let usahawan of usahawans | filter:searchTerm\\\">\\n          <!-- {{usahawan}} -->\\n          <ion-label>{{usahawan.namausahawan}}</ion-label>\\n          <ion-radio slot=\\\"start\\\" value=\\\"{{usahawan.id_pengguna}}\\\"></ion-radio>\\n        </ion-item>\\n\\n      </ion-radio-group>\\n    </ion-list>\\n  </div>\\n\\n\\n\\n  <ion-button color=\\\"dark\\\" (click)=\\\"selectDismiss()\\\" expand=\\\"block\\\">\\n    Pilih\\n  </ion-button>\\n  <ion-button color=\\\"warning\\\" (click)=\\\"dismiss()\\\" expand=\\\"block\\\">\\n    <ion-text color=\\\"dark\\\">\\n      Batal\\n    </ion-text>\\n  </ion-button>\\n\\n</ion-content>\\n\\n\\n<ion-content *ngIf=\\\"peranan == 7\\\" class=\\\"ion-padding\\\">\\n\\n  <ion-searchbar placeholder=\\\"Carian Usahawan\\\" [(ngModel)]=\\\"searchTerm\\\" showCancelButton=\\\"focus\\\"></ion-searchbar>\\n\\n\\n  <!-- {{ usahawans }} -->\\n  <div class=\\\"list\\\">\\n    <ion-list>\\n\\n      <ion-radio-group [(ngModel)]=\\\"pilihUsahawan\\\">\\n\\n        <ion-item *ngFor=\\\"let usahawan of usahawans | filter:searchTerm\\\">\\n          <!-- {{usahawan}} -->\\n          <ion-label>{{usahawan.name}}</ion-label>\\n          <ion-radio slot=\\\"start\\\" value=\\\"{{usahawan.id_pengguna}}\\\"></ion-radio>\\n        </ion-item>\\n\\n      </ion-radio-group>\\n    </ion-list>\\n  </div>\\n\\n\\n\\n  <ion-button color=\\\"dark\\\" (click)=\\\"selectDismiss()\\\" expand=\\\"block\\\">\\n    Pilih\\n  </ion-button>\\n  <ion-button color=\\\"warning\\\" (click)=\\\"dismiss()\\\" expand=\\\"block\\\">\\n    <ion-text color=\\\"dark\\\">\\n      Batal\\n    </ion-text>\\n  </ion-button>\\n\\n</ion-content>\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"dismiss()\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\" style=\\\"color: #986522;\\\"></ion-icon>\\n      </ion-button>\\n      <ion-text color=\\\"warning\\\">\\n        <h1>\\n          <strong class=\\\"ion-text-uppercase\\\">\\n            LAPORAN LAWATAN\\n          </strong>\\n        </h1>\\n      </ion-text>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<!-- BPU AND SUPER ADMIN -->\\n<ion-content *ngIf=\\\"peranan_pegawai == 1 || peranan_pegawai == 2\\\">\\n\\n  <!-- <ion-button (click)=\\\"openSenaraiUsahawan()\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\n    Click me\\n  </ion-button> -->\\n  <ion-grid>\\n    <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"logForm()\\\" enctype=\\\"multipart/form-data\\\">\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\" mode=\\\"ios\\\">NEGERI </ion-label>\\n            <ion-select [(ngModel)]=\\\"negeriValue\\\" [ngModelOptions]=\\\"{standalone: true}\\\" (ionChange)=\\\"getPT()\\\">\\n              <ion-select-option *ngFor=\\\"let negeri of negeri\\\" value=\\\"{{negeri.Negeri_Rkod}}\\\">{{negeri.Negeri}}\\n              </ion-select-option>\\n\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\" mode=\\\"ios\\\">PUSAT TANGGUNGJAWAB </ion-label>\\n            <ion-select [disabled]=\\\"negeriValue == null\\\" [(ngModel)]=\\\"ptValue\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n              (ionChange)=\\\"getUsahawan()\\\">\\n              <ion-select-option *ngFor=\\\"let pt of pt\\\" value=\\\"{{pt.Kod_PT}}\\\">{{pt.keterangan}}</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\" (click)=\\\"openSenaraiUsahawan()\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\" mode=\\\"ios\\\">NAMA USAHAWAN <span style=\\\"color: red;\\\">*</span>\\n            </ion-label>\\n\\n            <div *ngIf=\\\"tempID == null\\\" style=\\\"width: 100%;\\\">\\n              <ion-input [disabled]=\\\"ptValue == null\\\" type=\\\"text\\\" placeholder=\\\"Pilih Usahawan\\\" disabled style=\\\"width: 100%\\\"></ion-input>\\n            </div>\\n            <div *ngFor=\\\"let usahawan of usahawan\\\" style=\\\"width: 100%;\\\">\\n\\n              <div *ngIf=\\\"usahawan.id_pengguna == tempID; then content else other_content\\\" style=\\\"width: 100%;\\\">\\n              </div>\\n              <ng-template #content style=\\\"width: 100%;\\\">\\n                <ion-input type=\\\"text\\\" formControlName=\\\"id_pengguna\\\" placeholder=\\\"Pilih Usahawan\\\" hidden></ion-input>\\n                <ion-input readonly type=\\\"text\\\" value=\\\"{{usahawan.namausahawan}}\\\" placeholder=\\\"Pilih Usahawan\\\" style=\\\"width: 100%;\\\"></ion-input>\\n              </ng-template>\\n            </div>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" class=\\\"form-control\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\" mode=\\\"ios\\\">TARIKH <span style=\\\"color: red;\\\">*</span>\\n            </ion-label>\\n            <ion-datetime presentation=\\\"date\\\" displayFormat=\\\"DD/MM/YYYY\\\" formControlName=\\\"tarikh_lawatan\\\"\\n              style=\\\"background-color: #f5f5f5;\\\">\\n            </ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" class=\\\"form-control\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\" mode=\\\"ios\\\">MASA <span style=\\\"color: red;\\\">*</span>\\n            </ion-label>\\n            <ion-datetime presentation=\\\"time\\\" displayFormat=\\\"HHmm\\\" formControlName=\\\"masa_lawatan\\\"\\n              style=\\\"background-color: #f5f5f5;\\\">\\n            </ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\" mode=\\\"ios\\\">JENIS LAWATAN <span style=\\\"color: red;\\\">*</span>\\n            </ion-label>\\n            <ion-select formControlName=\\\"jenis_lawatan\\\">\\n              <ion-select-option value=\\\"janji temu\\\" disabled>JANJI TEMU</ion-select-option>\\n              <ion-select-option value=\\\"datang terus\\\">DATANG TERUS</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\" mode=\\\"ios\\\">TINDAKAN USAHAWAN <span\\n                style=\\\"color: red;\\\">*</span></ion-label>\\n            <ion-select formControlName=\\\"id_tindakan_lawatan\\\">\\n              <ion-select-option class=\\\"laporan\\\" *ngFor=\\\"let tindakanLawatan of tindakanLawatan\\\"\\n                [value]=\\\"tindakanLawatan.id\\\" selected=\\\"tindakanLawatan.id == this.laporan.id_tindakan_lawatan\\\">\\n                {{tindakanLawatan.nama_tindakan_lawatan}}</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\" mode=\\\"ios\\\">KOMEN KESELURUHAN </ion-label>\\n            <ion-textarea rows=\\\"4\\\" formControlName=\\\"komen\\\"></ion-textarea>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"ion-text-center\\\">\\n          <ion-label class=\\\"ion-text-center\\\" style=\\\"padding-bottom: 0px;\\\" mode=\\\"ios\\\">GAMBAR <span\\n              style=\\\"color: red;\\\">*</span></ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin-bottom: 20px; \\\">\\n        <ion-col class=\\\"form-control\\\" style=\\\"display: flex; justify-content:center\\\">\\n          <label style=\\\"display: flex; justify-content:center\\\">\\n            <div style=\\\"display: flex; justify-content:center\\\">\\n              <img [src]=\\\"url\\\" class=\\\"border-radius-md\\\" width=\\\"40%\\\" id=\\\"upload-Preview\\\" style=\\\"border-radius: 10px;\\\" />\\n            </div>\\n            <input id=\\\"upload-Image\\\" accept=\\\"image/*\\\" (change)=\\\"onSelectFile($event)\\\" formControlName=\\\"gambar_lawatan\\\"\\n              type=\\\"file\\\" style=\\\"display: none\\\">\\n          </label>\\n\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin:20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n\\n          <ion-button color=\\\"success\\\" expand=\\\"block\\\" [disabled]=\\\"form.invalid\\\" type=\\\"submit\\\">TAMBAH LAPORAN\\n          </ion-button>\\n          <!-- <ion-button color=\\\"success\\\" expand=\\\"block\\\">CETAK LAPORAN</ion-button> -->\\n        </ion-col>\\n      </ion-row>\\n\\n    </form>\\n  </ion-grid>\\n</ion-content>\\n\\n\\n<!-- PUN AND PUD -->\\n<ion-content *ngIf=\\\"peranan_pegawai == 3 || peranan_pegawai == 4\\\">\\n  <ion-grid>\\n    <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"logForm()\\\" enctype=\\\"multipart/form-data\\\">\\n\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\" mode=\\\"ios\\\">PUSAT TANGGUNGJAWAB </ion-label>\\n            <ion-select [(ngModel)]=\\\"ptValue\\\" [ngModelOptions]=\\\"{standalone: true}\\\" (ionChange)=\\\"getUsahawan()\\\">\\n              <ion-select-option *ngFor=\\\"let pt of pt\\\" value=\\\"{{pt.Kod_PT}}\\\">{{pt.keterangan}}</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <!-- <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\" mode=\\\"ios\\\">NAMA USAHAWAN <span style=\\\"color: red;\\\">*</span>\\n            </ion-label>\\n\\n            <ion-select [disabled]=\\\"ptValue == null\\\" formControlName=\\\"id_pengguna\\\">\\n              <ion-select-option *ngFor=\\\"let usahawan of usahawan\\\" value=\\\"{{usahawan.id_pengguna}}\\\">\\n                {{usahawan.namausahawan}}\\n              </ion-select-option>\\n            </ion-select>\\n\\n          </ion-item>\\n        </ion-col>\\n      </ion-row> -->\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\" (click)=\\\"openSenaraiUsahawan()\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\" mode=\\\"ios\\\">NAMA USAHAWAN <span style=\\\"color: red;\\\">*</span>\\n            </ion-label>\\n          \\n\\n            <div *ngIf=\\\"tempID == null\\\" style=\\\"width: 100%;\\\">\\n              <ion-input [disabled]=\\\"ptValue == null\\\" type=\\\"text\\\" placeholder=\\\"Pilih Usahawan\\\" disabled style=\\\"width: 100%\\\"></ion-input>\\n            </div>\\n            <div *ngFor=\\\"let usahawan of usahawan\\\" style=\\\"width: 100%;\\\">\\n\\n              <div *ngIf=\\\"usahawan.id_pengguna == tempID; then content else other_content\\\" style=\\\"width: 100%;\\\">\\n              </div>\\n              <ng-template #content style=\\\"width: 100%;\\\">\\n                <ion-input type=\\\"text\\\" formControlName=\\\"id_pengguna\\\" placeholder=\\\"Pilih Usahawan\\\" hidden></ion-input>\\n                <ion-input readonly type=\\\"text\\\" value=\\\"{{usahawan.namausahawan}}\\\" placeholder=\\\"Pilih Usahawan\\\" style=\\\"width: 100%;\\\"></ion-input>\\n              </ng-template>\\n            </div>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" class=\\\"form-control\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\" mode=\\\"ios\\\">TARIKH <span style=\\\"color: red;\\\">*</span>\\n            </ion-label>\\n            <ion-datetime presentation=\\\"date\\\" displayFormat=\\\"DD/MM/YYYY\\\" formControlName=\\\"tarikh_lawatan\\\"\\n              style=\\\"background-color: #f5f5f5;\\\">\\n            </ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" class=\\\"form-control\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\" mode=\\\"ios\\\">MASA <span style=\\\"color: red;\\\">*</span></ion-label>\\n            <ion-datetime presentation=\\\"time\\\" displayFormat=\\\"HHmm\\\" formControlName=\\\"masa_lawatan\\\"\\n              style=\\\"background-color: #f5f5f5;\\\">\\n            </ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\">JENIS LAWATAN <span style=\\\"color: red;\\\">*</span></ion-label>\\n            <ion-select formControlName=\\\"jenis_lawatan\\\">\\n              <ion-select-option value=\\\"janji temu\\\" mode=\\\"ios\\\">JANJI TEMU</ion-select-option>\\n              <ion-select-option value=\\\"datang terus\\\" selected>DATANG TERUS</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\" mode=\\\"ios\\\">TINDAKAN USAHAWAN <span\\n                style=\\\"color: red;\\\">*</span></ion-label>\\n            <ion-select formControlName=\\\"id_tindakan_lawatan\\\">\\n              <ion-select-option *ngFor=\\\"let tindakanLawatan of tindakanLawatan\\\" [value]=\\\"tindakanLawatan.id\\\"\\n                selected=\\\"tindakanLawatan.id == this.laporan.id_tindakan_lawatan\\\">\\n                {{tindakanLawatan.nama_tindakan_lawatan}}</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\" mode=\\\"ios\\\">KOMEN KESELURUHAN </ion-label>\\n            <ion-textarea rows=\\\"4\\\" formControlName=\\\"komen\\\"></ion-textarea>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"ion-text-center\\\">\\n          <ion-label class=\\\"ion-text-center\\\" style=\\\"padding-bottom: 0px;\\\" mode=\\\"ios\\\">GAMBAR <span\\n              style=\\\"color: red;\\\">*</span></ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin-bottom: 20px; \\\">\\n        <ion-col class=\\\"form-control\\\" style=\\\"display: flex; justify-content:center\\\">\\n          <label style=\\\"display: flex; justify-content:center\\\">\\n            <div style=\\\"display: flex; justify-content:center\\\">\\n              <img [src]=\\\"url\\\" class=\\\"border-radius-md\\\" width=\\\"40%\\\" id=\\\"upload-Preview\\\" style=\\\"border-radius: 10px;\\\" />\\n            </div>\\n            <input id=\\\"upload-Image\\\" accept=\\\"image/*\\\" (change)=\\\"onSelectFile($event)\\\" formControlName=\\\"gambar_lawatan\\\"\\n              type=\\\"file\\\" style=\\\"display: none\\\">\\n          </label>\\n\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin:20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n\\n          <ion-button color=\\\"success\\\" expand=\\\"block\\\" [disabled]=\\\"form.invalid\\\" type=\\\"submit\\\">SIMPAN LAPORAN\\n          </ion-button>\\n          <!-- <ion-button color=\\\"success\\\" expand=\\\"block\\\">CETAK LAPORAN</ion-button> -->\\n        </ion-col>\\n      </ion-row>\\n\\n    </form>\\n  </ion-grid>\\n\\n\\n\\n\\n</ion-content>\";"]}