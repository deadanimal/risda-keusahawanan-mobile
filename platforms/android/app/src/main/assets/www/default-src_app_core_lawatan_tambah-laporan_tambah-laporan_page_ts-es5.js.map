{"version":3,"sources":["webpack:///src/app/core/lawatan/tambah-laporan/tambah-laporan.page.ts","webpack:///src/app/services/negeri/negeri.service.ts","webpack:///src/app/services/pusat-tanggungjawab/pusat-tanggungjawab.service.ts","webpack:///src/app/core/lawatan/tambah-laporan/tambah-laporan.page.scss","webpack:///src/app/core/lawatan/tambah-laporan/tambah-laporan.page.html"],"names":["TambahLaporanPage","modalController","formBuilder","lawatanService","negeriService","ptService","usahawanService","loadingController","pegawai_id","window","sessionStorage","getItem","peranan_pegawai","url","negeriValue","ptValue","images","convertBlobToBase64","blob","Promise","resolve","reject","reader","FileReader","onerror","onload","result","readAsDataURL","form","group","id_pegawai","id_pengguna","Validators","tarikh_lawatan","masa_lawatan","id_tindakan_lawatan","komen","jenis_lawatan","gambar_lawatan","console","log","laporan","getNegeri","getPT","getTindakanLawatan","patchValue","getNegeriPt","dismiss","pipe","map","x","filter","i","status_tindakan_lawatan","subscribe","res","tindakanLawatan","get","negeri","Negeri_Rkod","pt","create","message","loading","present","Kod_PT","usahawan","length","value","data","format","tambahLaporan","location","reload","event","target","files","fileEvent","e","file","filePath","size","readAsBase64","base64Data","fileName","Date","getTime","push","name","path","ModalController","FormBuilder","LawatanService","NegeriService","PusatTanggungjawabService","UsahawanService","LoadingController","Input","Component","selector","template","http","environment","HttpClient","Injectable","providedIn","id"],"mappings":"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","file":"default-src_app_core_lawatan_tambah-laporan_tambah-laporan_page_ts-es5.js","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { LoadingController, ModalController } from '@ionic/angular';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport { Validators } from '@angular/forms';\nimport { LawatanService } from 'src/app/services/lawatan/lawatan.service';\nimport { map } from 'rxjs/operators';\nimport { NegeriService } from 'src/app/services/negeri/negeri.service';\nimport { PusatTanggungjawabService } from 'src/app/services/pusat-tanggungjawab/pusat-tanggungjawab.service';\nimport { UsahawanService } from 'src/app/services/usahawan/usahawan.service';\nimport * as moment from 'moment';\n\n\ninterface LocalFile {\n  name: string;\n  path: string;\n  data: string;\n}\n\n@Component({\n  selector: 'app-tambah-laporan',\n  templateUrl: './tambah-laporan.page.html',\n  styleUrls: ['./tambah-laporan.page.scss'],\n})\nexport class TambahLaporanPage implements OnInit {\n\n  @Input() laporan: any;\n\n  pegawai_id = window.sessionStorage.getItem(\"pegawai_id\");\n  peranan_pegawai= window.sessionStorage.getItem(\"peranan_pegawai\");\n\n  url: any = \"assets/icon/image-not-available.png\";\n\n  private form: FormGroup;\n  negeri: any;\n\n  negeriValue: any = null;\n  ptValue: any = null;\n\n  pt: any;\n  usahawan: any[];\n\n\n  constructor(\n    public modalController: ModalController,\n    private formBuilder: FormBuilder,\n    private lawatanService: LawatanService,\n    private negeriService: NegeriService,\n    private ptService: PusatTanggungjawabService,\n    private usahawanService: UsahawanService,\n    private loadingController: LoadingController,\n  ) {\n    this.form = this.formBuilder.group({\n      // negeri: ['', Validators.required],\n      // pt: ['', Validators.required],\n      id_pegawai : ['',],\n      id_pengguna: ['', Validators.required],\n      tarikh_lawatan: ['', Validators.required],\n      masa_lawatan: ['', Validators.required],\n      id_tindakan_lawatan: ['', Validators.required],\n      komen: ['', ],\n      jenis_lawatan: ['', Validators.required],\n      gambar_lawatan: ['',],\n    });\n  }\n\n  ngOnInit() {\n    console.log(\"peranan\", this.peranan_pegawai);\n    console.log(\"laporan\", this.laporan);\n\n\n    if (this.peranan_pegawai == \"1\" || this.peranan_pegawai == \"2\"){\n      this.getNegeri();\n      this.getPT()\n      this.getTindakanLawatan();\n\n      this.form.patchValue({\n        jenis_lawatan: \"datang terus\"\n      })\n    } else {\n\n      this.getNegeriPt()\n      this.getTindakanLawatan();\n\n      this.form.patchValue({\n        jenis_lawatan: \"janji temu\"\n      })\n    }\n  }\n\n\n  dismiss() {\n    // using the injected ModalController this page\n    // can \"dismiss\" itself and optionally pass back data\n    this.modalController.dismiss({\n      'dismissed': true\n    });\n  }\n\n  tindakanLawatan: any;\n  getTindakanLawatan() {\n    this.lawatanService.getTindakanLawatan().pipe(map(x => x.filter(i => i.status_tindakan_lawatan == \"aktif\"))).subscribe((res) => {\n      console.log(\"tindakan lawatan\", res);\n\n      this.tindakanLawatan = res;\n\n    });\n  }\n\n  getNegeri() {\n    this.negeriService.get().subscribe((res) => {\n      console.log(\"negeri\", res);\n\n      this.negeri = res;\n\n    });\n  }\n\n  getPT() {\n    this.ptService.get().pipe(map(x => x.filter(i => i.Negeri_Rkod == this.negeriValue))).subscribe((res) => {\n      console.log(\"pt\", res);\n\n      this.pt = res;\n\n    });\n  }\n\n  getNegeriPt(){\n    this.ptService.getNegeriPt(this.pegawai_id).subscribe((res) => {\n      console.log(\"pt\", res);\n\n      this.pt = res;\n\n    });\n  }\n\n  async getUsahawan() {\n    console.log(\"ptValue\", this.ptValue);\n    const loading = await this.loadingController.create({ message: 'Loading ...' });\n    loading.present();\n\n    this.usahawanService.get().pipe(map(x => x.filter(i => i.Kod_PT == this.ptValue))).subscribe((res) => {\n      console.log(\"usahawan\", res);\n\n      this.usahawan = res;\n      loading.dismiss();\n    });\n\n  }\n\n  logForm() {\n\n    if (this.images.length > 0) {\n      this.form.value.gambar_lawatan = this.images[0].data;\n    } else {\n      this.form.value.gambar_lawatan = this.laporan.gambar_lawatan;\n    }\n\n    this.form.value.id_pegawai = this.pegawai_id;\n    this.form.value.tarikh_lawatan = moment(this.form.value.tarikh_lawatan).format('YYYY-MM-DD');\n    this.form.value.masa_lawatan = moment(this.form.value.masa_lawatan).format('HH:mm');\n    \n    console.log(this.form.value)\n\n    this.lawatanService.tambahLaporan(this.form.value).subscribe((res) => {\n      console.log(\"laporan baru\", res);\n\n      this.dismiss();\n      window.location.reload();\n    });\n  }\n\n\n  //image\n  onSelectFile(event) {\n    if (event.target.files && event.target.files[0]) {\n      var reader = new FileReader();\n\n      reader.readAsDataURL(event.target.files[0]); // read file as data url\n\n      reader.onload = (event) => { // called once readAsDataURL is completed\n        this.url = event.target.result;\n      }\n\n      this.fileEvent(event);\n    }\n  }\n\n  // Convert the base64 to blob data\n  // and create  formData with it\n\n  images: LocalFile[] = [];\n  async fileEvent(e) {\n\n    this.images = []\n\n    const files = e.target.files;\n    const file = files[0];\n    const filePath = files[0].size;\n    const base64Data = await this.readAsBase64(file);\n\n    const fileName = new Date().getTime() + '.jpeg';\n\n    this.images.push({\n      name: fileName,\n      path: filePath,\n      data: `${base64Data}`,\n    });\n\n    console.log(\"AAAA\", this.images);\n  }\n\n  // https://ionicframework.com/docs/angular/your-first-app/3-saving-photos\n  private async readAsBase64(blob) {\n    // Fetch the photo, read as a blob, then convert to base64 format\n    // const response = await fetch(photo.webPath);\n    // const blob = await response.blob();\n\n    return (await this.convertBlobToBase64(blob)) as string;\n  }\n\n  convertBlobToBase64 = (blob: Blob) =>\n    new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onerror = reject;\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.readAsDataURL(blob);\n    });\n\n\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NegeriService {\n\n  url: string = environment.baseUrl + \"api/negeri\";\n\n  constructor(private http: HttpClient) { }\n\n  // post(data: any): Observable<any> {\n  //   return this.http.post<any>(`${this.url}`, data);\n  // }\n\n  get(): Observable<any> {\n    return this.http.get<any>(`${this.url}`);\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PusatTanggungjawabService {\n\n  url: string = environment.baseUrl + \"api/pusat_tanggungjawab\";\n\n  constructor(private http: HttpClient) { }\n\n  // post(data: any): Observable<any> {\n  //   return this.http.post<any>(`${this.url}`, data);\n  // }\n\n  get(): Observable<any> {\n    return this.http.get<any>(`${this.url}`);\n  }\n\n  getNegeriPt(id): Observable<any> {\n    return this.http.get<any>(`${this.url}` + '/senarai_pt_pun_pud/' + id);\n  }\n}\n","export default \"ion-label {\\n  padding: 10px;\\n  margin-bottom: 50px;\\n}\\n\\n.label {\\n  padding: 10px;\\n  margin-bottom: 50px;\\n}\\n\\nion-datetime {\\n  --background: #f5f5f5;\\n  --padding-start: 0.75rem !important;\\n  --padding-top: 0.625rem !important;\\n  --placeholder-color: #8898aa;\\n  --placeholder-font-weight: 400;\\n  border: 1px solid #dee2e6 !important;\\n  border-radius: 1rem !important;\\n  box-shadow: 0 3px 2px rgba(233, 236, 239, 0.05) !important;\\n  line-height: 1.5 !important;\\n}\\n\\nion-select {\\n  --background: #f5f5f5;\\n  --padding-start: 0.75rem !important;\\n  --padding-top: 0.625rem !important;\\n  --placeholder-color: #8898aa;\\n  --placeholder-font-weight: 400;\\n  border: 1px solid #dee2e6 !important;\\n  border-radius: 1rem !important;\\n  box-shadow: 0 3px 2px rgba(233, 236, 239, 0.05) !important;\\n  line-height: 1.5 !important;\\n}\\n\\nion-label {\\n  --color: #525f7f;\\n  font-size: 0.875rem;\\n  font-weight: 600;\\n  padding-bottom: 20px;\\n}\\n\\n.jumlah {\\n  font-size: 30px;\\n  color: #00a651;\\n}\\n\\nion-item {\\n  --max-height: 16px;\\n}\\n\\n.padding {\\n  padding: 5px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhbWJhaC1sYXBvcmFuLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0FBQ0o7O0FBRUE7RUFDSSxxQkFBQTtFQUNBLG1DQUFBO0VBQ0Esa0NBQUE7RUFDQSw0QkFBQTtFQUNBLDhCQUFBO0VBQ0Esb0NBQUE7RUFDQSw4QkFBQTtFQUNBLDBEQUFBO0VBQ0EsMkJBQUE7QUFDSjs7QUFFQTtFQUNJLHFCQUFBO0VBQ0EsbUNBQUE7RUFDQSxrQ0FBQTtFQUNBLDRCQUFBO0VBQ0EsOEJBQUE7RUFDQSxvQ0FBQTtFQUNBLDhCQUFBO0VBQ0EsMERBQUE7RUFDQSwyQkFBQTtBQUNKOztBQUVBO0VBQ0ksZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0Esb0JBQUE7QUFDSjs7QUFFQTtFQUNJLGVBQUE7RUFDQSxjQUFBO0FBQ0o7O0FBRUE7RUFDSSxrQkFBQTtBQUNKOztBQUVBO0VBQ0ksdUJBQUE7QUFDSiIsImZpbGUiOiJ0YW1iYWgtbGFwb3Jhbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tbGFiZWwge1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogNTBweDtcbn1cblxuLmxhYmVsIHtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDUwcHg7XG59XG5cbmlvbi1kYXRldGltZSB7XG4gICAgLS1iYWNrZ3JvdW5kOiAjZjVmNWY1O1xuICAgIC0tcGFkZGluZy1zdGFydDogMC43NXJlbSAhaW1wb3J0YW50O1xuICAgIC0tcGFkZGluZy10b3A6IDAuNjI1cmVtICFpbXBvcnRhbnQ7XG4gICAgLS1wbGFjZWhvbGRlci1jb2xvcjogIzg4OThhYTtcbiAgICAtLXBsYWNlaG9sZGVyLWZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2RlZTJlNiAhaW1wb3J0YW50O1xuICAgIGJvcmRlci1yYWRpdXM6IDFyZW0gIWltcG9ydGFudDtcbiAgICBib3gtc2hhZG93OiAwIDNweCAycHggcmdiYSgyMzMsIDIzNiwgMjM5LCAwLjA1KSAhaW1wb3J0YW50O1xuICAgIGxpbmUtaGVpZ2h0OiAxLjUgIWltcG9ydGFudDtcbn1cblxuaW9uLXNlbGVjdHtcbiAgICAtLWJhY2tncm91bmQ6ICNmNWY1ZjU7XG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAwLjc1cmVtICFpbXBvcnRhbnQ7XG4gICAgLS1wYWRkaW5nLXRvcDogMC42MjVyZW0gIWltcG9ydGFudDtcbiAgICAtLXBsYWNlaG9sZGVyLWNvbG9yOiAjODg5OGFhO1xuICAgIC0tcGxhY2Vob2xkZXItZm9udC13ZWlnaHQ6IDQwMDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2ICFpbXBvcnRhbnQ7XG4gICAgYm9yZGVyLXJhZGl1czogMXJlbSAhaW1wb3J0YW50O1xuICAgIGJveC1zaGFkb3c6IDAgM3B4IDJweCByZ2JhKDIzMywgMjM2LCAyMzksIDAuMDUpICFpbXBvcnRhbnQ7XG4gICAgbGluZS1oZWlnaHQ6IDEuNSAhaW1wb3J0YW50O1xufVxuXG5pb24tbGFiZWwge1xuICAgIC0tY29sb3I6ICM1MjVmN2Y7XG4gICAgZm9udC1zaXplOiAwLjg3NXJlbTtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICAgIHBhZGRpbmctYm90dG9tOiAyMHB4O1xufVxuXG4uanVtbGFoIHtcbiAgICBmb250LXNpemU6IDMwcHg7XG4gICAgY29sb3I6ICMwMGE2NTE7XG59XG5cbmlvbi1pdGVtIHtcbiAgICAtLW1heC1oZWlnaHQ6IDE2cHg7XG59XG5cbi5wYWRkaW5ne1xuICAgIHBhZGRpbmc6IDVweCAhaW1wb3J0YW50O1xufVxuXG5cblxuLy8gYnV0dG9uOmRpc2FibGVkLFxuLy8gYnV0dG9uW2Rpc2FibGVkXSB7XG4vLyAgICAgYm9yZGVyOiAxcHggc29saWQgIzk5OTk5OTtcbi8vICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjY2NjO1xuLy8gICAgIGNvbG9yOiAjNjY2NjY2O1xuLy8gfVxuIl19 */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"success\\\" (click)=\\\"dismiss()\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\"></ion-icon>\\n      </ion-button>\\n      <ion-text color=\\\"success\\\">\\n        <h1>\\n          <strong class=\\\"ion-text-uppercase\\\">\\n            LAPORAN LAWATAN\\n          </strong>\\n        </h1>\\n      </ion-text>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<!-- BPU AND SUPER ADMIN -->\\n<ion-content *ngIf=\\\"peranan_pegawai == 1 || peranan_pegawai == 2\\\">\\n  <ion-grid>\\n    <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"logForm()\\\" enctype=\\\"multipart/form-data\\\">\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\">NEGERI </ion-label>\\n            <ion-select [(ngModel)]=\\\"negeriValue\\\" [ngModelOptions]=\\\"{standalone: true}\\\" (ionChange)=\\\"getPT()\\\">\\n              <ion-select-option *ngFor=\\\"let negeri of negeri\\\" value=\\\"{{negeri.Negeri_Rkod}}\\\">{{negeri.Negeri}}\\n              </ion-select-option>\\n              \\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\">PUSAT TANGGUNGJAWAB </ion-label>\\n            <ion-select [disabled]=\\\"negeriValue == null\\\" [(ngModel)]=\\\"ptValue\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n              (ionChange)=\\\"getUsahawan()\\\">\\n              <ion-select-option *ngFor=\\\"let pt of pt\\\" value=\\\"{{pt.Kod_PT}}\\\">{{pt.keterangan}}</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\">NAMA USAHAWAN <span style=\\\"color: red;\\\">*</span></ion-label>\\n            <!-- <ion-input formControlName=\\\"namausahawan\\\" readonly></ion-input> -->\\n            <ion-select [disabled]=\\\"ptValue == null\\\" formControlName=\\\"id_pengguna\\\">\\n              <ion-select-option *ngFor=\\\"let usahawan of usahawan\\\" value=\\\"{{usahawan.id_pengguna}}\\\">\\n                {{usahawan.namausahawan}}</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" class=\\\"form-control\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\">TARIKH <span style=\\\"color: red;\\\">*</span></ion-label>\\n            <ion-datetime presentation=\\\"date\\\" displayFormat=\\\"DD/MM/YYYY\\\" formControlName=\\\"tarikh_lawatan\\\"\\n              style=\\\"background-color: #f5f5f5;\\\">\\n            </ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" class=\\\"form-control\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\">MASA <span style=\\\"color: red;\\\">*</span> </ion-label>\\n            <ion-datetime presentation=\\\"time\\\" displayFormat=\\\"HHmm\\\" formControlName=\\\"masa_lawatan\\\"\\n              style=\\\"background-color: #f5f5f5;\\\">\\n            </ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\">JENIS LAWATAN <span style=\\\"color: red;\\\">*</span></ion-label>\\n            <ion-select formControlName=\\\"jenis_lawatan\\\">\\n              <ion-select-option value=\\\"janji temu\\\" disabled>JANJI TEMU</ion-select-option>\\n              <ion-select-option value=\\\"datang terus\\\">DATANG TERUS</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\">TINDAKAN USAHAWAN <span style=\\\"color: red;\\\">*</span></ion-label>\\n            <ion-select formControlName=\\\"id_tindakan_lawatan\\\">\\n              <ion-select-option *ngFor=\\\"let tindakanLawatan of tindakanLawatan\\\" [value]=\\\"tindakanLawatan.id\\\"\\n                selected=\\\"tindakanLawatan.id == this.laporan.id_tindakan_lawatan\\\">\\n                {{tindakanLawatan.nama_tindakan_lawatan}}</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\">KOMEN KESELURUHAN </ion-label>\\n            <ion-textarea rows=\\\"4\\\" formControlName=\\\"komen\\\"></ion-textarea>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"ion-text-center\\\">\\n          <ion-label class=\\\"ion-text-center\\\" style=\\\"padding-bottom: 0px;\\\">GAMBAR</ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin-bottom: 20px; \\\">\\n        <ion-col class=\\\"form-control\\\" style=\\\"display: flex; justify-content:center\\\">\\n          <label style=\\\"display: flex; justify-content:center\\\">\\n            <div style=\\\"display: flex; justify-content:center\\\">\\n              <img [src]=\\\"url\\\" class=\\\"border-radius-md\\\" width=\\\"40%\\\" id=\\\"upload-Preview\\\" style=\\\"border-radius: 10px;\\\" />\\n            </div>\\n            <input id=\\\"upload-Image\\\" accept=\\\"image/*\\\" (change)=\\\"onSelectFile($event)\\\" formControlName=\\\"gambar_lawatan\\\"\\n              type=\\\"file\\\" style=\\\"display: none\\\">\\n          </label>\\n\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin:20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n\\n          <ion-button color=\\\"success\\\" expand=\\\"block\\\" [disabled]=\\\"form.invalid\\\" type=\\\"submit\\\">TAMBAH LAPORAN\\n          </ion-button>\\n          <!-- <ion-button color=\\\"success\\\" expand=\\\"block\\\">CETAK LAPORAN</ion-button> -->\\n        </ion-col>\\n      </ion-row>\\n\\n    </form>\\n  </ion-grid>\\n</ion-content>\\n\\n\\n<!-- PUN AND PUD -->\\n<ion-content *ngIf=\\\"peranan_pegawai == 3 || peranan_pegawai == 4\\\">\\n  <ion-grid>\\n    <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"logForm()\\\" enctype=\\\"multipart/form-data\\\">\\n      \\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\">PUSAT TANGGUNGJAWAB </ion-label>\\n            <ion-select [(ngModel)]=\\\"ptValue\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n              (ionChange)=\\\"getUsahawan()\\\">\\n              <ion-select-option *ngFor=\\\"let pt of pt\\\" value=\\\"{{pt.Kod_PT}}\\\">{{pt.keterangan}}</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\">NAMA USAHAWAN <span style=\\\"color: red;\\\">*</span></ion-label>\\n            <!-- <ion-input formControlName=\\\"namausahawan\\\" readonly></ion-input> -->\\n            <ion-select [disabled]=\\\"ptValue == null\\\" formControlName=\\\"id_pengguna\\\">\\n              <ion-select-option *ngFor=\\\"let usahawan of usahawan\\\" value=\\\"{{usahawan.id_pengguna}}\\\">\\n                {{usahawan.namausahawan}}</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" class=\\\"form-control\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\">TARIKH <span style=\\\"color: red;\\\">*</span></ion-label>\\n            <ion-datetime presentation=\\\"date\\\" displayFormat=\\\"DD/MM/YYYY\\\" formControlName=\\\"tarikh_lawatan\\\"\\n              style=\\\"background-color: #f5f5f5;\\\">\\n            </ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" class=\\\"form-control\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\">MASA <span style=\\\"color: red;\\\">*</span></ion-label>\\n            <ion-datetime presentation=\\\"time\\\" displayFormat=\\\"HHmm\\\" formControlName=\\\"masa_lawatan\\\"\\n              style=\\\"background-color: #f5f5f5;\\\">\\n            </ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\">JENIS LAWATAN <span style=\\\"color: red;\\\">*</span></ion-label>\\n            <ion-select formControlName=\\\"jenis_lawatan\\\">\\n              <ion-select-option value=\\\"janji temu\\\">JANJI TEMU</ion-select-option>\\n              <ion-select-option value=\\\"datang terus\\\" selected>DATANG TERUS</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\">TINDAKAN USAHAWAN <span style=\\\"color: red;\\\">*</span></ion-label>\\n            <ion-select formControlName=\\\"id_tindakan_lawatan\\\">\\n              <ion-select-option *ngFor=\\\"let tindakanLawatan of tindakanLawatan\\\" [value]=\\\"tindakanLawatan.id\\\"\\n                selected=\\\"tindakanLawatan.id == this.laporan.id_tindakan_lawatan\\\">\\n                {{tindakanLawatan.nama_tindakan_lawatan}}</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-item lines=\\\"none\\\" style=\\\"border: none;\\\">\\n            <ion-label class=\\\"padding\\\" position=\\\"stacked\\\">KOMEN KESELURUHAN </ion-label>\\n            <ion-textarea rows=\\\"4\\\" formControlName=\\\"komen\\\"></ion-textarea>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"ion-text-center\\\">\\n          <ion-label class=\\\"ion-text-center\\\" style=\\\"padding-bottom: 0px;\\\">GAMBAR</ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin-bottom: 20px; \\\">\\n        <ion-col class=\\\"form-control\\\" style=\\\"display: flex; justify-content:center\\\">\\n          <label style=\\\"display: flex; justify-content:center\\\">\\n            <div style=\\\"display: flex; justify-content:center\\\">\\n              <img [src]=\\\"url\\\" class=\\\"border-radius-md\\\" width=\\\"40%\\\" id=\\\"upload-Preview\\\" style=\\\"border-radius: 10px;\\\" />\\n            </div>\\n            <input id=\\\"upload-Image\\\" accept=\\\"image/*\\\" (change)=\\\"onSelectFile($event)\\\" formControlName=\\\"gambar_lawatan\\\"\\n              type=\\\"file\\\" style=\\\"display: none\\\">\\n          </label>\\n\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin:20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n\\n          <ion-button color=\\\"success\\\" expand=\\\"block\\\" [disabled]=\\\"form.invalid\\\" type=\\\"submit\\\">SIMPAN LAPORAN\\n          </ion-button>\\n          <!-- <ion-button color=\\\"success\\\" expand=\\\"block\\\">CETAK LAPORAN</ion-button> -->\\n        </ion-col>\\n      </ion-row>\\n\\n    </form>\\n  </ion-grid>\\n\\n\\n\\n\\n</ion-content>\";"]}