{"version":3,"sources":["webpack:///src/app/core/modal/kemaskini-tunai-masuk/kemaskini-tunai-masuk.page.ts","webpack:///src/app/services/Aliran/aliran.service.ts","webpack:///src/app/services/kategoriAliran/kategori-aliran.service.ts","webpack:///src/app/core/modal/kemaskini-tunai-masuk/kemaskini-tunai-masuk.page.scss","webpack:///src/app/core/modal/kemaskini-tunai-masuk/kemaskini-tunai-masuk.page.html"],"names":["KemaskiniTunaiMasukPage","modalController","formBuilder","kategoriAliranService","aliranService","router","alertController","loadingController","selectedValue","form","group","id_pengguna","id_kategori_aliran","Validators","tarikh_aliran","keterangan_aliran","jumlah_aliran","nama_dokumen","dokumen_lampiran","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","console","log","tunai_masuk","url","environment","getKategoriAliran","dismiss","pipe","map","x","filter","i","jenis_aliran","status_kategori_aliran","subscribe","res","kategori_aliran_masuk","setFormValues","window","location","reload","setValue","updateValueAndValidity","create","cssClass","header","subHeader","message","buttons","alert","present","onDidDismiss","role","text","handler","blah","value","format","file","name","loading","update","Number","id","formdata","FormData","append","uploadDoc","resDoc","presentAlert","presentAlert2","event","target","files","document","getElementById","innerHTML","ModalController","FormBuilder","KategoriAliranService","AliranService","Router","AlertController","LoadingController","Input","Component","selector","template","http","data","post","get","aliran","aliran_id","put","HttpClient","Injectable","providedIn"],"mappings":"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","file":"default-src_app_core_modal_kemaskini-tunai-masuk_kemaskini-tunai-masuk_page_ts-es5.js","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { AlertController, LoadingController, ModalController } from '@ionic/angular';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport { Validators } from '@angular/forms';\nimport { KategoriAliranService } from 'src/app/services/kategoriAliran/kategori-aliran.service';\nimport { AliranService } from 'src/app/services/Aliran/aliran.service';\nimport { Router } from '@angular/router';\nimport { map } from 'rxjs/operators';\nimport * as moment from 'moment';\nimport { environment } from \"src/environments/environment\";\n\n@Component({\n  selector: 'app-kemaskini-tunai-masuk',\n  templateUrl: './kemaskini-tunai-masuk.page.html',\n  styleUrls: ['./kemaskini-tunai-masuk.page.scss'],\n})\nexport class KemaskiniTunaiMasukPage implements OnInit {\n\n  @Input() tunai_masuk: any;\n\n  data: any;\n\n  private form: FormGroup;\n\n  today: any\n  //test var\n  selectedValue: any = \"\";\n  url: string;\n\n  constructor(\n    private modalController: ModalController,\n    private formBuilder: FormBuilder,\n    private kategoriAliranService: KategoriAliranService,\n    private aliranService: AliranService,\n    private router: Router,\n    public alertController: AlertController,\n    public loadingController: LoadingController\n  ) {\n    this.form = this.formBuilder.group({\n      id_pengguna: [''],\n      id_kategori_aliran: ['', Validators.required],\n      tarikh_aliran: ['', Validators.required],\n      keterangan_aliran: ['', Validators.required],\n      jumlah_aliran: ['', Validators.required],\n      nama_dokumen: [''],\n      dokumen_lampiran: [''],\n    });\n  }\n\n  ngOnInit() {\n\n    this.today = new Date();\n    var dd = String(this.today.getDate()).padStart(2, '0');\n    var mm = String(this.today.getMonth() + 1).padStart(2, '0'); //January is 0!\n    var yyyy = this.today.getFullYear();\n\n    this.today = yyyy + '-' + mm + '-' + dd;\n    console.log(\"today\", this.today)\n\n\n    console.log(\"tunai masuk\", this.tunai_masuk);\n\n    this.url = environment.baseUrl + \"storage/\" + this.tunai_masuk.dokumen_lampiran;\n    console.log(\"url\", this.url)\n    // this.data = this.tunai_masuk\n\n    this.getKategoriAliran();\n\n    // this.setFormValues()\n  }\n\n  dismiss() {\n    this.modalController.dismiss(this.tunai_masuk);\n  }\n\n\n  kategori_aliran_masuk: any;\n  getKategoriAliran() {\n\n    this.kategoriAliranService.getKategoriAliran().pipe(map(x => x.filter(i => i.jenis_aliran == \"tunai_masuk\" && i.status_kategori_aliran ==\"aktif\"))).subscribe((res) => {\n      console.log(\"kategori aliran\", res);\n      this.kategori_aliran_masuk = res;\n      // console.log(\"kategori aliran\", this.kategori_aliran_masuk);\n\n      this.setFormValues();\n    });\n\n  }\n\n  refresh(): void {\n    window.location.reload();\n  }\n\n  setFormValues() {\n\n    this.selectedValue = \"selected \";\n\n    this.form.setValue({\n      id_pengguna: this.tunai_masuk.id_pengguna,\n      id_kategori_aliran: this.tunai_masuk.id_kategori_aliran,\n      tarikh_aliran: this.tunai_masuk.tarikh_aliran,\n      keterangan_aliran: this.tunai_masuk.keterangan_aliran,\n      jumlah_aliran: this.tunai_masuk.jumlah_aliran,\n      nama_dokumen: this.tunai_masuk.nama_dokumen,\n      dokumen_lampiran: this.tunai_masuk.dokumen_lampiran,\n    });\n\n    this.form.updateValueAndValidity();\n  }\n\n  async presentAlert() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Kemaskini Berjaya',\n      subHeader: 'Kemaskini Aliran Masuk Telah Berjaya',\n      message: '',\n      buttons: ['OK']\n    });\n\n    await alert.present();\n\n    const { role } = await alert.onDidDismiss();\n    console.log('onDidDismiss resolved with role', role);\n\n    this.dismiss();\n    \n  }\n\n  async presentAlert2() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Berjaya Dihapus',\n      subHeader: 'Aliran Telah Berjaya Dihapus',\n      message: '',\n      buttons: ['OK']\n    });\n\n    await alert.present();\n\n    const { role } = await alert.onDidDismiss();\n    console.log('onDidDismiss resolved with role', role);\n\n    this.dismiss();\n    \n  }\n\n  async logForm() {\n\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: '',\n      message: 'Adakah anda setuju untuk menyimpan perubahan ini?',\n      buttons: [\n        {\n          text: 'Tidak',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Ya',\n          handler: async () => {\n            console.log('Confirm Okay');\n\n            this.form.value.tarikh_aliran = moment(this.form.value.tarikh_aliran).format('YYYY-MM-DD');\n            // this.form.value.nama_dokumen = this.file.name;\n            if (this.file != null) {\n              this.form.value.nama_dokumen = this.file.name;\n            }\n\n            const loading = await this.loadingController.create({ message: 'Loading ...' });\n            loading.present();\n            console.log(this.form.value)\n\n            this.aliranService.update(this.form.value, Number(this.tunai_masuk.id)).subscribe((res) => {\n              console.log(\"updated data\", res);\n\n              let formdata = new FormData();\n\n              formdata.append('dokumen_lampiran', this.file);\n              this.aliranService.uploadDoc(formdata, res.id).subscribe((resDoc) => {\n                console.log(\"resDoc\", resDoc);\n\n                loading.dismiss();\n                this.presentAlert()\n              })\n\n            });\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  async onDelete() {\n\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: '',\n      message: 'Adakah anda setuju untuk memadam maklumat ini?',\n      buttons: [\n        {\n          text: 'Tidak',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Ya',\n          handler: async () => {\n            console.log('Confirm Okay');\n\n            const loading = await this.loadingController.create({ message: 'Deleting ...' });\n            loading.present();\n\n            this.aliranService.delete(this.tunai_masuk.id).subscribe((res) => {\n              console.log(\"deleted\", res);\n              loading.dismiss();\n              this.presentAlert2()\n            });\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  file: any;\n  selectedFile(event) {\n    this.file = event.target.files[0];\n    console.log(this.file)\n\n    this.form.value.dokumen_lampiran = this.file;\n    console.log(this.form.value.dokumen_lampiran);\n\n    // document.getElementById(\"nama_fail\").innerHTML(this.file)\n    (document.getElementById('nama_fail') as HTMLIonTextElement).innerHTML = this.file.name;\n\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { environment } from \"src/environments/environment\";\nimport { Observable } from \"rxjs\";\nimport { HttpClient } from \"@angular/common/http\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AliranService {\n\n  url: string = environment.baseUrl + \"api/aliran\";\n\n  constructor(private http: HttpClient) { }\n\n  post(data: any): Observable<any> {\n    return this.http.post<any>(`${this.url}`, data);\n  }\n\n  get(id): Observable<any> {\n    return this.http.get<any>(`${this.url}`+'/'+id);\n  }\n\n  update(aliran: any, aliran_id: number,): Observable<any> {\n    return this.http.put<any>(\n      `${this.url}/${aliran_id}`, aliran\n    );\n  }\n\n  delete( aliran_id: number ): Observable<any>{\n    return this.http.delete<any>(\n      `${this.url}/${aliran_id}`\n    );\n  }\n\n  uploadDoc(data: any, id): Observable<any> {\n    return this.http.post<any>(\n      `${this.url}` + \"/uploadDoc/\" + id, data\n    );\n  }\n\n  getTotalYear(id): Observable<any> {\n    return this.http.get<any>(\n      `${this.url}` + \"/getYear/\" + id\n    );\n  }\n\n  getTotalMonth(id): Observable<any> {\n    return this.http.get<any>(\n      `${this.url}` + \"/getMonth/\" + id\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { environment } from \"src/environments/environment\";\nimport { Observable } from \"rxjs\";\nimport { HttpClient } from \"@angular/common/http\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class KategoriAliranService {\n\n  url: string = environment.baseUrl + \"api/kategori_aliran\";\n\n  constructor(private http: HttpClient) { }\n\n  getKategoriAliran(): Observable<any[]> {\n    return this.http.get<any[]>(`${this.url}`);\n  }\n\n}\n","export default \"ion-label {\\n  padding: 10px;\\n  margin-bottom: 50px;\\n}\\n\\n.label {\\n  padding: 10px;\\n  margin-bottom: 50px;\\n}\\n\\nion-datetime {\\n  --background: #f5f5f5;\\n  --padding-start: 0.75rem !important;\\n  --padding-top: 0.625rem !important;\\n  --placeholder-color: #8898aa;\\n  --placeholder-font-weight: 400;\\n  border: 1px solid #dee2e6 !important;\\n  border-radius: 1rem !important;\\n  box-shadow: 0 3px 2px rgba(233, 236, 239, 0.05) !important;\\n  line-height: 1.5 !important;\\n}\\n\\nion-label {\\n  --color: #525f7f;\\n  font-size: 0.875rem;\\n  font-weight: 600;\\n  padding-bottom: 20px;\\n}\\n\\n.jumlah {\\n  font-size: 30px;\\n  color: #00a651;\\n}\\n\\nion-item {\\n  --max-height: 16px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtlbWFza2luaS10dW5haS1tYXN1ay5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFFQTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVBO0VBQ0kscUJBQUE7RUFDQSxtQ0FBQTtFQUNBLGtDQUFBO0VBQ0EsNEJBQUE7RUFDQSw4QkFBQTtFQUNBLG9DQUFBO0VBQ0EsOEJBQUE7RUFDQSwwREFBQTtFQUNBLDJCQUFBO0FBQ0o7O0FBRUE7RUFDSSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxvQkFBQTtBQUNKOztBQUVBO0VBQ0ksZUFBQTtFQUNBLGNBQUE7QUFDSjs7QUFFQTtFQUNJLGtCQUFBO0FBQ0oiLCJmaWxlIjoia2VtYXNraW5pLXR1bmFpLW1hc3VrLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1sYWJlbCB7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBtYXJnaW4tYm90dG9tOiA1MHB4O1xufVxuXG4ubGFiZWwge1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogNTBweDtcbn1cblxuaW9uLWRhdGV0aW1lIHtcbiAgICAtLWJhY2tncm91bmQ6ICNmNWY1ZjU7XG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAwLjc1cmVtICFpbXBvcnRhbnQ7XG4gICAgLS1wYWRkaW5nLXRvcDogMC42MjVyZW0gIWltcG9ydGFudDtcbiAgICAtLXBsYWNlaG9sZGVyLWNvbG9yOiAjODg5OGFhO1xuICAgIC0tcGxhY2Vob2xkZXItZm9udC13ZWlnaHQ6IDQwMDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2ICFpbXBvcnRhbnQ7XG4gICAgYm9yZGVyLXJhZGl1czogMXJlbSAhaW1wb3J0YW50O1xuICAgIGJveC1zaGFkb3c6IDAgM3B4IDJweCByZ2JhKDIzMywgMjM2LCAyMzksIDAuMDUpICFpbXBvcnRhbnQ7XG4gICAgbGluZS1oZWlnaHQ6IDEuNSAhaW1wb3J0YW50O1xufVxuXG5pb24tbGFiZWwge1xuICAgIC0tY29sb3I6ICM1MjVmN2Y7XG4gICAgZm9udC1zaXplOiAwLjg3NXJlbTtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICAgIHBhZGRpbmctYm90dG9tOiAyMHB4O1xufVxuXG4uanVtbGFoIHtcbiAgICBmb250LXNpemU6IDMwcHg7XG4gICAgY29sb3I6ICMwMGE2NTE7XG59XG5cbmlvbi1pdGVtIHtcbiAgICAtLW1heC1oZWlnaHQ6IDE2cHg7XG59XG5cbi8vIGJ1dHRvbjpkaXNhYmxlZCxcbi8vIGJ1dHRvbltkaXNhYmxlZF0ge1xuLy8gICAgIGJvcmRlcjogMXB4IHNvbGlkICM5OTk5OTk7XG4vLyAgICAgYmFja2dyb3VuZC1jb2xvcjogI2NjY2NjYztcbi8vICAgICBjb2xvcjogIzY2NjY2Njtcbi8vIH1cblxuXG4vLyAuYnV0dG9uX2RvY3tcblxuLy8gfVxuIl19 */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button  (click)=\\\"dismiss()\\\">\\n        <ion-icon name=\\\"chevron-back-outline\\\" style=\\\"color: #986522;\\\"></ion-icon>\\n      </ion-button>\\n      <ion-text color=\\\"success\\\">\\n        <h1>\\n          <strong class=\\\"ion-text-uppercase\\\">\\n            TUNAI MASUK\\n          </strong>\\n        </h1>\\n      </ion-text>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-grid>\\n    <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"logForm()\\\" style=\\\"margin: 30px;\\\">\\n      <ion-row style=\\\"margin-bottom: 20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-label>KATEGORI ALIRAN</ion-label>\\n          <ion-select formControlName=\\\"id_kategori_aliran\\\" >\\n            <ion-select-option *ngFor=\\\"let aliran_masuk of kategori_aliran_masuk\\\" [value]=\\\"aliran_masuk.id\\\" selected=\\\"aliran_masuk.id == this.tunai_masuk.id_kategori_aliran\\\">\\n              {{aliran_masuk.nama_kategori_aliran}}</ion-select-option>\\n          </ion-select>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row style=\\\"margin-bottom: 20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-label>TARIKH</ion-label>\\n          <!-- <ion-input type=\\\"date\\\" formControlName=\\\"title\\\"></ion-input> -->\\n          <ion-datetime presentation=\\\"date\\\" [max]=\\\"today\\\" formControlName=\\\"tarikh_aliran\\\" value=\\\"{{tunai_masuk.tarikh_aliran}}\\\" style=\\\"background-color: #f5f5f5;\\\">\\n          </ion-datetime>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row style=\\\"margin-bottom: 20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-label>KETERANGAN</ion-label>\\n          <ion-input type=\\\"text\\\" formControlName=\\\"keterangan_aliran\\\" style=\\\"text-transform: none !important;\\\"></ion-input>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row class=\\\"ion-text-center\\\" style=\\\"display: flex; justify-content:center\\\">\\n        <!-- <ion-col class=\\\"ion-text-center\\\"> -->\\n        <p style=\\\"margin: 0px; font-weight:bold\\\"> JUMLAH <span style=\\\"color: red;\\\">*</span></p><br>\\n        <!-- </ion-col> -->\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin-bottom: 30px; border-bottom: 1px solid\\\">\\n        <ion-col class=\\\"jumlah\\\" [size]=4 style=\\\"display:flex; justify-content:center; align-items:center\\\">\\n          RM\\n        </ion-col>\\n        <ion-col [size]=8>\\n          <!-- <ion-item class=\\\" ion-text-center\\\">\\n            <ion-label class=\\\"jumlah\\\" style=\\\"margin-top:50px\\\">RM </ion-label> -->\\n            <ion-input class=\\\"jumlah\\\" type=\\\"number\\\" formControlName=\\\"jumlah_aliran\\\"></ion-input>\\n          <!-- </ion-item> -->\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-label>DOKUMEN LAMPIRAN</ion-label>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row style=\\\"margin-bottom: 20px;\\\">\\n\\n        <ion-col class=\\\"form-control ion-margin\\\">\\n\\n          <label>\\n            <div class=\\\"ion-text-center\\\"\\n              style=\\\"background-color: #919091; color:white; display:flex; justify-content:center; padding:10px; border-radius:10px\\\">\\n              PILIH DOKUMEN\\n            </div>\\n\\n            <ion-input class=\\\"ion-hide\\\" type=\\\"file\\\" name=\\\"dokumen\\\" id=\\\"dokumen\\\" [(ngModel)]=\\\"file\\\"\\n              [ngModelOptions]=\\\"{standalone: true}\\\" (change)=\\\"selectedFile($event)\\\"></ion-input>\\n\\n          </label>\\n          <!-- <label for=\\\"doc\\\">\\n            <ion-button for=\\\"doc\\\" color=\\\"success\\\" expand=\\\"block\\\" for=\\\"doc\\\">PILIH DOKUMEN</ion-button>\\n          </label> -->\\n        </ion-col>\\n        <ion-col class=\\\"form-control ion-margin-top\\\">\\n          <a [href]=\\\"url\\\" id=\\\"nama_fail\\\" target=\\\"_blank\\\" download style=\\\"color: black;\\\">{{tunai_masuk.nama_dokumen}}</a>\\n        </ion-col>\\n      </ion-row>\\n\\n      <ion-row style=\\\"margin-bottom: 20px;\\\">\\n        <ion-col class=\\\"form-control\\\">\\n          <ion-button color=\\\"dark\\\" expand=\\\"block\\\" type=\\\"submit\\\">KEMASKINI</ion-button>\\n          <ion-button color=\\\"warning\\\" expand=\\\"block\\\" (click)=\\\"onDelete()\\\">PADAM</ion-button>\\n        </ion-col>\\n      </ion-row>\\n      \\n    </form>\\n  </ion-grid>\\n  \\n</ion-content>\";"]}